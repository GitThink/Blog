<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>MySql学习笔记</title>
      <link href="/categories/database/d8819d45.html"/>
      <url>/categories/database/d8819d45.html</url>
      
        <content type="html"><![CDATA[<h2 id="MySQL-的连接"><a href="#MySQL-的连接" class="headerlink" title="MySQL 的连接"></a>MySQL 的连接</h2><h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><p>通过管理员身份运行<br>格式：<code>net start 服务名（启动服务）</code></p><pre class=" language-bash"><code class="language-bash">net start mysql57 <span class="token comment" spellcheck="true">#在windows服务中找到MYSQL57将其打开</span></code></pre><h3 id="停止服务"><a href="#停止服务" class="headerlink" title="停止服务"></a>停止服务</h3><p><code>net stop 服务名（停止服务）</code></p><pre class=" language-bash"><code class="language-bash">net stop mysql57 <span class="token comment" spellcheck="true">#在windows服务中找到MYSQL57将其关闭</span></code></pre><h3 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h3><p><code>mysql -u 用户名 -p</code></p><pre class=" language-sql"><code class="language-sql">mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p</code></pre><h3 id="断开连接"><a href="#断开连接" class="headerlink" title="断开连接"></a>断开连接</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">exit</span> 或 ctrl<span class="token operator">+</span>C</code></pre><h3 id="查看服务器的版本"><a href="#查看服务器的版本" class="headerlink" title="查看服务器的版本"></a>查看服务器的版本</h3><ul><li>方式一：登录到 mysql 服务端<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>方式二：没有登录到 mysql 服务端<pre class=" language-sql"><code class="language-sql">mysql <span class="token comment" spellcheck="true">--version 或 mysql --V</span></code></pre></li></ul><h3 id="显示时间-登录到-MySQL-服务端之后"><a href="#显示时间-登录到-MySQL-服务端之后" class="headerlink" title="显示时间 - 登录到 MySQL 服务端之后"></a>显示时间 - 登录到 MySQL 服务端之后</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h3><pre class=" language-sql"><code class="language-sql">mysql <span class="token operator">-</span>h IP地址 <span class="token operator">-</span>u 用户名 <span class="token operator">-</span>p 对方mysql密码</code></pre><h2 id="MySQL-数据类型和基本操作"><a href="#MySQL-数据类型和基本操作" class="headerlink" title="MySQL 数据类型和基本操作"></a>MySQL 数据类型和基本操作</h2><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="二进制类型"><a href="#二进制类型" class="headerlink" title="二进制类型"></a>二进制类型</h4><p><code>bit</code></p><pre><code>bit[(M)]二进制位（101001），m表示二进制位的长度（1-64），默认m＝1</code></pre><h4 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h4><p><code>tinyint</code></p><pre><code>tinyint[(m)] [unsigned] [zerofill]小整数，数据类型用于保存一些范围的整数数值范围：有符号：-128 ～ 127.无符号：255特别的： MySQL中无布尔值，使用tinyint(1)构造。</code></pre><p><code>int</code></p><pre><code>int[(m)][unsigned][zerofill]整数，数据类型用于保存一些范围的整数数值范围：有符号： -2147483648 ～ 2147483647无符号：4294967295</code></pre><p><code>bigint</code></p><pre><code>bigint[(m)][unsigned][zerofill]大整数，数据类型用于保存一些范围的整数数值范围：有符号：-9223372036854775808 ～ 9223372036854775807无符号：18446744073709551615    作用：存储年龄，等级，id，各种号码等注意：为该类型指定宽度时，仅仅只是指定查询结果的显示宽度，与存储范围无关，所以我们使用默认的就可以了    有符号和无符号的最大数字需要的显示宽度均为10，    而针对有符号的最小值则需要11位才能显示完全，所以int类型默认的显示宽度为11是非常合理的</code></pre><h4 id="小数型"><a href="#小数型" class="headerlink" title="小数型"></a>小数型</h4><p>作用：存储薪资、身高、体重、体质参数等<br><code>decimal</code></p><pre><code>decimal[(m[,d])] [unsigned] [zerofill]准确的小数值，m是数字总个数（负号不算），d是小数点后个数。 m最大值为65，d最大值为30。特别的：对于精确数值计算时需要用此类型decaimal能够存储精确值的原因在于其内部按照字符串存储。</code></pre><p><code>FLOAT</code></p><pre><code>FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]单精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。有符号：(-3.402823466E+38 to -1.175494351E-38),0,(1.175494351E-38 to 3.402823466E+38)无符号：0，(1.175 494 351 E-38，3.402 823 466 E+38)数值越大，越不准确</code></pre><p><code>DOUBLE</code></p><pre><code>DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]双精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。有符号：(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)无符号：0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)数值越大，越不准确</code></pre><h4 id="字符型"><a href="#字符型" class="headerlink" title="字符型"></a>字符型</h4><p><code>char</code></p><pre><code>char (m)char数据类型用于表示固定长度的字符串，可以包含最多达255个字符。其中m代表字符串的长度。PS: 即使数据小于m长度，也会占用m长度,但是在查询时，查出的结果会自动删除尾部的空格特点:定长，简单粗暴，浪费空间，存取速度快</code></pre><p><code>varchar</code></p><pre><code>varchar(m)varchar 数据类型用于变长的字符串，可以包含最多达65535个字符(理论上可以,但是实际上在超出21845长度后,mysql会自动帮您转换数据类型为文本类型)。其中m代表该数据类型所允许保存的字符串的最大长度，只要长度小于该最大值的字符串都可以被保存在该数据类型中。PS: varchar类型存储数据的真实内容，例如:如果&#39;ab  &#39;,尾部的空格也会被存起来强调：varchar类型会在真实数据前加1-2Bytes的前缀，该前缀用来表示真实数据的bytes字节数（1-2Bytes最大表示65535个数字，正好符合mysql对row的最大字节限制，即已经足够使用）如果真实的数据&lt;255bytes则需要1Bytes的前缀（1Bytes=8bit 2**8最大表示的数字为255）如果真实的数据&gt;255bytes则需要2Bytes的前缀（2Bytes=16bit 2**16最大表示的数字为65535）特点:变长，精准，节省空间，存取速度慢sql优化：创建表时，定长的类型往前放，变长的往后放:比如性别, 比如地址或描述信息PS：虽然varchar使用起来较为灵活，但是从整个系统的性能角度来说，char数据类型的处理速度更快，有时甚至可以超出varchar处理速度的50%。    因此，用户在设计数据库时应当综合考虑各方面的因素，以求达到最佳的平衡</code></pre><p><code>text</code></p><pre><code>texttext数据类型用于保存变长的大字符串，可以最多到65535 (2**16 − 1)个字符。</code></pre><h4 id="枚举类型-了解"><a href="#枚举类型-了解" class="headerlink" title="枚举类型 (了解)"></a>枚举类型 (了解)</h4><p><code>enum</code></p><pre><code>enumAn ENUM column can have a maximum of 65,535 distinct elements. (The practical limit is less than 3000.)示例：CREATE TABLE user (name VARCHAR(40),sex ENUM(&#39;男&#39;, &#39;女&#39;, &#39;未知&#39;));INSERT INTO user (name, sex) VALUES (&#39;人1&#39;,&#39;男&#39;), (&#39;人2&#39;,&#39;女&#39;),(&#39;人3&#39;,&#39;未知&#39;),(&#39;人4&#39;,&#39;人妖&#39;);PS:人4会插入成功吗??</code></pre><h4 id="集合类型-了解"><a href="#集合类型-了解" class="headerlink" title="集合类型 (了解)"></a>集合类型 (了解)</h4><p><code>set</code></p><pre><code>setA SET column can have a maximum of 64 distinct members.示例：CREATE TABLE myset (col SET(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;));INSERT INTO myset (col) VALUES (&#39;a,d&#39;), (&#39;d,a&#39;), (&#39;a,d,a&#39;), (&#39;a,d,d&#39;), (&#39;d,a,d&#39;);</code></pre><h4 id="日期-时间类型"><a href="#日期-时间类型" class="headerlink" title="日期 / 时间类型"></a>日期 / 时间类型</h4><pre><code>DATE 日期值    YYYY-MM-DD（1000-01-01/9999-12-31）TIME  时间值或持续时间    HH:MM:SS（&#39;-838:59:59&#39;/&#39;838:59:59&#39;）YEAR 年份值    YYYY（1901/2155）DATETIME 混合日期和时间值(占用8字节)    YYYY-MM-DD HH:MM:SS（1000-01-01 00:00:00/9999-12-31 23:59:59）TIMESTAMP 时间戳(占用4字节)    YYYYMMDD HHMMSS（1970-01-01 00:00:00/2037 年某时）作用：存储用户注册时间，文章发布时间，员工入职时间，出生时间，过期时间等数据类型</code></pre><h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><p><code>create database &lt;数据库名称&gt; charset=utf8;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> test <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></code></pre><h4 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h4><p><code>drop database &lt;数据库名称&gt;;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">database</span> test<span class="token punctuation">;</span></code></pre><h4 id="切换数据库"><a href="#切换数据库" class="headerlink" title="切换数据库"></a>切换数据库</h4><p><code>use &lt;数据库名称&gt;;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">use</span> bestthink<span class="token punctuation">;</span></code></pre><h4 id="查看当前选择的数据库"><a href="#查看当前选择的数据库" class="headerlink" title="查看当前选择的数据库"></a>查看当前选择的数据库</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="MySQL-之表操作"><a href="#MySQL-之表操作" class="headerlink" title="MySQL 之表操作"></a>MySQL 之表操作</h2><h3 id="什么是表"><a href="#什么是表" class="headerlink" title="什么是表"></a>什么是表</h3><p>表 (TABLE) 是一种结构化的文件，可用来存储某种特定类型的数据。表中的一条记录有对应的标题，标题称之为表的字段。</p><h3 id="查看当前数据库中所有表"><a href="#查看当前数据库中所有表" class="headerlink" title="查看当前数据库中所有表"></a>查看当前数据库中所有表</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span></code></pre><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><p>格式：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> 表名<span class="token punctuation">(</span> 字段名<span class="token number">1</span> 类型<span class="token punctuation">[</span><span class="token punctuation">(</span>宽度<span class="token punctuation">)</span> 约束条件<span class="token punctuation">]</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span> 类型<span class="token punctuation">[</span><span class="token punctuation">(</span>宽度<span class="token punctuation">)</span> 约束条件<span class="token punctuation">]</span><span class="token punctuation">,</span> 字段名<span class="token number">3</span> 类型<span class="token punctuation">[</span><span class="token punctuation">(</span>宽度<span class="token punctuation">)</span> 约束条件<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">innodb</span> <span class="token keyword">default</span> <span class="token keyword">charset</span> utf8<span class="token punctuation">;</span></code></pre><p>示例：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>   id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>   name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>   age <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>   gender <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">,</span>   address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   isDelete <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">create</span> <span class="token keyword">table</span> info<span class="token punctuation">(</span>   id <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>   name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>   sex char<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span></code></pre><p>注意：</p><ul><li><code>not null</code> : 表示此列不能为空</li><li><code>auto_increment</code> : 表示自增长，默认每次增长 + 1</li><li>自增长只能添加在主键或者唯一索引字段上</li><li><code>primary key</code> : 表示主键 (唯一且不为空)</li><li><code>engine = innodb</code> : 表示指定当前表的存储引擎</li><li><code>default charset utf8</code> : 设置表的默认编码集</li></ul><h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><p><code>drop table 表名;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> student<span class="token punctuation">;</span> </code></pre><h3 id="查看表结构"><a href="#查看表结构" class="headerlink" title="查看表结构"></a>查看表结构</h3><p><code>desc 表名;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">desc</span> student<span class="token punctuation">;</span></code></pre><h3 id="查看建表语句"><a href="#查看建表语句" class="headerlink" title="查看建表语句"></a>查看建表语句</h3><p><code>show create table 表名;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">;</span></code></pre><h3 id="重命名表名"><a href="#重命名表名" class="headerlink" title="重命名表名"></a>重命名表名</h3><p><code>rename table &lt;变更前表名&gt; to &lt;变更后表名&gt;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">rename</span> info car <span class="token keyword">to</span> oldinfo<span class="token punctuation">;</span> </code></pre><h3 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h3><p><code>alter table 表名 add|change|drop 列名 类型;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> oldinfo <span class="token keyword">add</span> isDelete <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">alter</span> student <span class="token keyword">alter</span> sex <span class="token keyword">default</span> <span class="token string">'男'</span><span class="token punctuation">;</span></code></pre><h3 id="复制表"><a href="#复制表" class="headerlink" title="复制表"></a>复制表</h3><p><code>create table 新表名 select * from 原表名</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> newinfo <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> oldinfo<span class="token punctuation">;</span></code></pre><p>ps: 主键自增 / 索引 / 触发器 / 外键 不会 被复制</p><ul><li>选择性插入<pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> newinfo <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> oldinfo <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></code></pre></li><li>复制表结构<pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> newinfo <span class="token operator">like</span> oldinfo<span class="token punctuation">;</span></code></pre></li><li>ps: 数据 / 触发器 / 外键 不会被复制</li><li><code>create table newinfo select * from oldinfo where 1!=1;</code></li></ul><h2 id="数据操作-增-删-改-查"><a href="#数据操作-增-删-改-查" class="headerlink" title="数据操作 (增 删 改 查)"></a>数据操作 (增 删 改 查)</h2><h3 id="增-insert"><a href="#增-insert" class="headerlink" title="增 insert"></a>增 insert</h3><h4 id="全列插入"><a href="#全列插入" class="headerlink" title="全列插入"></a>全列插入</h4><p><code>insert into 表名 values(...);</code><br>主键列是自动增长，但是全列插入时需要占位，通常使用 0, 插入成功一行以实际数据为准</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"techpan"</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"安徽合肥"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="缺省插入"><a href="#缺省插入" class="headerlink" title="缺省插入"></a>缺省插入</h4><p><code>insert into 表名(列1,列2,...) values(值1,值2,...)</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>address<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">"lilei"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">"上海"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="同时插入多条数据"><a href="#同时插入多条数据" class="headerlink" title="同时插入多条数据"></a>同时插入多条数据</h4><p><code>insert into 表名 values(...),(...),...;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"hanmeimei"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"北京"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"poi"</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"海南"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"wenli"</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"石家庄"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'哈哈'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'呵呵'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'哦哦'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token keyword">select</span> <span class="token string">'name'</span><span class="token punctuation">,</span>sex <span class="token keyword">from</span> info<span class="token punctuation">;</span></code></pre><h3 id="删-delete"><a href="#删-delete" class="headerlink" title="删 delete"></a>删 delete</h3><p><code>delete from 表名 where 条件;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span></code></pre><blockquote><p>delete from student; – 删除整张表中的所有数据 (一条一条数据的删除)<br>truncate student; – 清空整张表 (整个删，效率高)</p></blockquote><p><code>truncate</code> 和 <code>delete</code> 的区别？[面试题]</p><ol><li><code>TRUNCATE</code> 在各种表上无论是大的还是小的都非常快。而 <code>DELETE</code> 操作会被表中数据量的大小影响其执行效率。</li><li><code>TRUNCATE</code> 是一个 <code>DDL</code> 语言而 <code>DELETE</code> 是 <code>DML</code> 语句，向其他所有的 <code>DDL</code> 语言一样，他将被隐式提交，不能对 <code>TRUNCATE</code> 使用 <code>ROLLBACK</code> 命令。</li><li><code>TRUNCATE</code> 不能触发触发器，<code>DELETE</code> 会触发触发器。</li><li>当表被清空后表和表的索引和自增主键将重新设置成初始大小，而 <code>delete</code> 则不能。</li></ol><h3 id="改-update"><a href="#改-update" class="headerlink" title="改 update"></a>改 update</h3><p><code>update 表名 set 列1=值1,列2=值2,......where 条件;</code></p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">update</span> student <span class="token keyword">set</span> age<span class="token operator">=</span><span class="token number">16</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span></code></pre><p>注意：如果没有条件是全部列都修改。</p><h3 id="查-select"><a href="#查-select" class="headerlink" title="查 select"></a>查 select</h3><pre class=" language-sql"><code class="language-sql">说明：查询表名中的全部数据格式：<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>示例：<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span></code></pre><h2 id="查"><a href="#查" class="headerlink" title="查"></a>查</h2><h3 id="MySQL-之单表查询"><a href="#MySQL-之单表查询" class="headerlink" title="MySQL 之单表查询"></a>MySQL 之单表查询</h3><h4 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h4><ul><li>查询语法<br><code>select [distinct]*(所有)|字段名,...字段名 from 表名;</code></li><li>查询所有字段信息<br><code>select * from person;</code></li><li>查询指定字段信息<br><code>select id,name,age,sex,salary from person;</code></li><li>别名查询，使用的 as 关键字，as 可以省略的<br><code>select name,age as&#39;年龄&#39;,salary &#39;工资&#39; from person;</code></li><li>直接对列进行运算，查询出所有人工资，并每人增加 100 块<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">select</span> name<span class="token punctuation">,</span> salary<span class="token operator">+</span><span class="token number">100</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span></code></pre></li><li>剔除重复查询 distinct<br><code>select distinct age from person;</code></li></ul><h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><blockquote><p>使用 WHERE 关键字 对简单查询的结果集 进行过滤</p></blockquote><p>1.比较运算符: <code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code> <code>=</code> <code>&lt;&gt;</code> <code>(!=)</code><br>2.null 关键字: <code>is null</code> ,<code>not null</code><br>3.逻辑运算符：与 <code>and</code> 或 <code>or</code> (多个条件时，需要使用逻辑运算符进行连接)</p><ul><li>查询格式<br><code>select [distinct]*(所有)|字段名,...字段名 from 表名 [where 条件过滤]</code></li><li>比较运算符: <code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code> <code>=</code> <code>&lt;&gt;</code> <code>(!=)</code> , <code>is null</code> 是否为 <code>null</code><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">&lt;></span> <span class="token number">23</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span></code></pre></li><li>逻辑运算符：与 <code>and</code> 或 <code>or</code><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">23</span> <span class="token operator">and</span> salary <span class="token operator">=</span> <span class="token number">29000</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">23</span> <span class="token operator">or</span> salary <span class="token operator">=</span> <span class="token number">29000</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="区间查询"><a href="#区间查询" class="headerlink" title="区间查询"></a>区间查询</h4><p>关键字 <code>between 10 and 20</code> :表示 获得10 到 20 区间的内容</p><ul><li>使用 between…and 进行区间 查询<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> salary <span class="token operator">between</span> <span class="token number">4000</span> <span class="token operator">and</span> <span class="token number">8000</span><span class="token punctuation">;</span></code></pre></li><li>between…and 前后包含所指定的值等价于<pre class=" language-spl"><code class="language-spl">select * from person where salary >= 4000 and salary <= 8000;</code></pre></li></ul><h4 id="集合查询"><a href="#集合查询" class="headerlink" title="集合查询"></a>集合查询</h4><p>关键字: <code>in</code>, <code>not null</code></p><ul><li>使用 <code>in</code> 集合 (多个字段) 查询<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>等价于: <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span>  age <span class="token operator">=</span><span class="token number">23</span> <span class="token operator">or</span> age <span class="token operator">=</span> <span class="token number">32</span> <span class="token operator">or</span> age <span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">;</span></code></pre></li><li>使用 in 集合 排除指定值查询<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> age <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h4><p>关键字: <code>like</code> , <code>not like</code></p><ul><li><code>%</code>: 任意多个字符</li><li><code>_</code> : 只能是单个字符</li><li>模糊查询 <code>like %</code> : 任意多个字符，<code>_</code> : 单个字符</li><li>示例<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#查询姓名以"张"字开头的</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'张%'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询姓名以"张"字结尾的</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%张'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询姓名中含有"张"字的</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%张%'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询 name 名称 是四个字符的人</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'____'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询 name 名称 的第二个字符是 'l'的人</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'_l%'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#排除名字带 a 的学生</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">not</span> <span class="token operator">like</span> <span class="token string">'a%'</span></code></pre></li></ul><h4 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h4><p><code>ORDER BY 字段1 DESC, 字段2 ASC</code></p><ul><li><p>排序查询格式</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> 字段<span class="token operator">|</span><span class="token operator">*</span> <span class="token keyword">from</span> 表名 <span class="token punctuation">[</span><span class="token keyword">where</span> 条件过滤<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> 字段<span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">]</span>升序:<span class="token keyword">ASC</span> 默认为升序降序:<span class="token keyword">DESC</span>PS:排序<span class="token keyword">order</span> <span class="token keyword">by</span> 要写在<span class="token keyword">select</span>语句末尾</code></pre></li><li><p>示例</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># 按人员工资正序排列,注意:此处可以省略 ASC关键字</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">ASC</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#工资大于5000的人,按工资倒序排列</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> salary <span class="token operator">></span><span class="token number">5000</span> <span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">DESC</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#按中文排序</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">order</span> <span class="token keyword">by</span> name<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#强制中文排序</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">CONVERT</span><span class="token punctuation">(</span>name <span class="token keyword">USING</span> gbk<span class="token punctuation">)</span><span class="token punctuation">;</span>ps:UTF8 默认校对集是 utf8_general_ci <span class="token punctuation">,</span> 它不是按照中文来的。你需要强制让MySQL按中文来排序</code></pre></li></ul><h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><ul><li><p>聚合：将分散的聚集到一起.</p></li><li><p>聚合函数：对列进行操作，返回的结果是一个单一的值，除了 <code>COUNT</code> 以外，都会忽略空值</p><blockquote><p><code>COUNT</code>：统计指定列不为<code>NULL</code>的记录行数；<br><code>SUM</code>：计算指定列的数值和，如果指定列类型不是数值类型，那么计算结果为0；<br><code>MAX</code>：计算指定列的最大值，如果指定列是字符串类型，那么使用字符串排序运算；<br><code>MIN</code>：计算指定列的最小值，如果指定列是字符串类型，那么使用字符串排序运算；<br><code>AVG</code>：计算指定列的平均值，如果指定列类型不是数值类型，那么计算结果为0；</p></blockquote></li><li><p>格式<br><code>select 聚合函数(字段) from 表名;</code></p></li><li><p>示例</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#统计人员中最大年龄、最小年龄，平均年龄分别是多少</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span></code></pre></li></ul><h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><blockquote><p>分组的含义：将一些具有相同特征的数据 进行归类。比如：性别，部门，岗位等等</p></blockquote><p>怎么区分什么时候需要分组呢？<br>套路：遇到 “每” 字，一般需要进行分组操作<br>例如:</p><ol><li>公司每个部门有多少人。</li><li>公司中有 多少男员工 和 多少女员工。</li></ol><ul><li>分组查询格式<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> 被分组的字段 <span class="token keyword">from</span> 表名 <span class="token keyword">group</span> <span class="token keyword">by</span> 分组字段 <span class="token punctuation">[</span><span class="token keyword">having</span> 条件字段<span class="token punctuation">]</span>ps: 分组查询可以与 聚合函数 组合使用</code></pre></li><li>示例<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#查询每个部门的平均薪资</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>dept <span class="token keyword">from</span> person  <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> dept<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询每个部门的平均薪资 并且看看这个部门的员工都有谁?</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>dept<span class="token punctuation">,</span>GROUP_CONCAT<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> person <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> dept<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#GROUP_CONCAT(expr):按照分组，将expr字符串按逗号分隔，组合起来</span><span class="token comment" spellcheck="true">#查询平均薪资大于10000的部门, 并且看看这个部门的员工都有谁?  </span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>dept<span class="token punctuation">,</span>GROUP_CONCAT<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> person <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> dept<span class="token punctuation">;</span> <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">10000</span><span class="token punctuation">;</span></code></pre></li></ul><p><code>where</code> 与 <code>having</code> 区别:<br>执行优先级从高到低：<code>where</code> &gt; <code>group by</code> &gt; <code>having</code></p><ol><li><code>Where</code> 发生在分组 <code>group by</code> 之前，因而 <code>Where</code> 中可以有任意字段，但是绝对不能使用聚合函数。</li><li><code>Having</code> 发生在分组 <code>group by</code> 之后，因而 <code>Having</code> 中可以使用分组的字段，无法直接取到其他字段，可以使用聚合函数。</li></ol><h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><blockquote><p>好处：限制查询数据条数，提高查询效率</p></blockquote><p><code>limit (起始条数),(查询多少条数);</code></p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#查询前5条数据</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询第5条到第10条数据</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#查询第10条到第15条数据</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span></code></pre><h4 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h4><blockquote><p><code>union</code> 联合、合并</p></blockquote><p>语法：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】 <span class="token keyword">union</span> 【<span class="token keyword">all</span>】<span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】 <span class="token keyword">union</span> 【<span class="token keyword">all</span>】<span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】 <span class="token keyword">union</span>  【<span class="token keyword">all</span>】<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">select</span> 字段<span class="token operator">|</span>常量<span class="token operator">|</span>表达式<span class="token operator">|</span>函数 【<span class="token keyword">from</span> 表】 【<span class="token keyword">where</span> 条件】</code></pre><p>特点：<br>1、多条查询语句的查询的列数必须是一致的<br>2、多条查询语句的查询的列的类型几乎相同<br>3、<code>union</code>代表去重，<code>union all</code>代表不去重</p><h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><p><code>MySQL</code> 中使用 <code>REGEXP</code> 操作符来进行正则表达式匹配。</p><table><thead><tr><th align="center">模式</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">^</td><td align="center">匹配输入字符串的开始位置。</td></tr><tr><td align="center">$</td><td align="center">匹配输入字符串的结束位置。</td></tr><tr><td align="center">.</td><td align="center">匹配任何字符（包括回车和新行）</td></tr><tr><td align="center">[…]</td><td align="center">字符集合。匹配所包含的任意一个字符。例如， ‘[abc]’ 可以匹配 “plain” 中的 ‘a’。</td></tr><tr><td align="center">[^…]</td><td align="center">负值字符集合。匹配未包含的任意字符。例如， ‘[^abc]’ 可以匹配 “plain” 中的’p’。</td></tr><tr><td align="center">p1|p2|p3</td><td align="center">匹配 p1 或 p2 或 p3。例如，’z|food’ 能匹配 “z” 或 “food”。’(z|f) ood’ 则匹配 “zood” 或 “food”。</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">## ^  匹配 name 名称 以 "e" 开头的数据</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">REGEXP</span> <span class="token string">'^e'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">## $  匹配 name 名称 以 "n" 结尾的数据</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">REGEXP</span> <span class="token string">'n$'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">## . 匹配 name 名称 第二位后包含"x"的人员 "."表示任意字符</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">REGEXP</span> <span class="token string">'.x'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">## [abci] 匹配 name 名称中含有指定集合内容的人员</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">REGEXP</span> <span class="token string">'[abci]'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">## [^alex] 匹配 不符合集合中条件的内容 , ^表示取反</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">REGEXP</span> <span class="token string">'[^alex]'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#注意1：^只有在[]内才是取反的意思，在别的地方都是表示开始处匹配</span><span class="token comment" spellcheck="true">#注意2 : 简单理解 name  REGEXP '[^alex]' 等价于 name != 'alex'</span><span class="token comment" spellcheck="true">## 'a|x' 匹配 条件中的任意值</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">REGEXP</span> <span class="token string">'a|x'</span><span class="token punctuation">;</span>　　<span class="token comment" spellcheck="true">## 查询以w开头以i结尾的数据</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">regexp</span> <span class="token string">'^w.*i$'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">## 注意:^w 表示w开头, .*表示中间可以有任意多个字符, i$表示以 i结尾</span></code></pre><h3 id="MySQL-之多表查询"><a href="#MySQL-之多表查询" class="headerlink" title="MySQL 之多表查询"></a>MySQL 之多表查询</h3><h4 id="多表联合查询"><a href="#多表联合查询" class="headerlink" title="多表联合查询"></a>多表联合查询</h4><p>数据：</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#创建部门</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> dept <span class="token punctuation">(</span>    did <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>    dname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">COMMENT</span> <span class="token string">'部门名称'</span><span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">charset</span> utf8<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#添加部门数据</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'教学部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'市场部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'人事部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'鼓励部'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">-- 创建人员</span><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token punctuation">(</span>  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>age<span class="token punctuation">`</span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>sex<span class="token punctuation">`</span> <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token string">'人妖'</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'人妖'</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>salary<span class="token punctuation">`</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'250.00'</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>hire_date<span class="token punctuation">`</span> <span class="token keyword">date</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>dept_id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">13</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span><span class="token comment" spellcheck="true">-- 添加人员数据</span><span class="token comment" spellcheck="true">-- 教学部</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'alex'</span><span class="token punctuation">,</span> <span class="token string">'28'</span><span class="token punctuation">,</span> <span class="token string">'人妖'</span><span class="token punctuation">,</span> <span class="token string">'53000.00'</span><span class="token punctuation">,</span> <span class="token string">'2010-06-21'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'wupeiqi'</span><span class="token punctuation">,</span> <span class="token string">'23'</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token string">'8000.00'</span><span class="token punctuation">,</span> <span class="token string">'2011-02-21'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'egon'</span><span class="token punctuation">,</span> <span class="token string">'30'</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token string">'6500.00'</span><span class="token punctuation">,</span> <span class="token string">'2015-06-21'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'jingnvshen'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'6680.00'</span><span class="token punctuation">,</span> <span class="token string">'2014-06-21'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">-- 销售部</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'歪歪'</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'3000.00'</span><span class="token punctuation">,</span> <span class="token string">'2015-02-21'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'星星'</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'2000.00'</span><span class="token punctuation">,</span> <span class="token string">'2018-01-30'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'格格'</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'2000.00'</span><span class="token punctuation">,</span> <span class="token string">'2018-02-27'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'周周'</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'2000.00'</span><span class="token punctuation">,</span> <span class="token string">'2015-06-21'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">-- 市场部</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'月月'</span><span class="token punctuation">,</span> <span class="token string">'21'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'4000.00'</span><span class="token punctuation">,</span> <span class="token string">'2014-07-21'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token string">'安琪'</span><span class="token punctuation">,</span> <span class="token string">'22'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'4000.00'</span><span class="token punctuation">,</span> <span class="token string">'2015-07-15'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">-- 人事部</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'周明月'</span><span class="token punctuation">,</span> <span class="token string">'17'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'5000.00'</span><span class="token punctuation">,</span> <span class="token string">'2014-06-21'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">-- 鼓励部</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>person<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token string">'苍老师'</span><span class="token punctuation">,</span> <span class="token string">'33'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'1000000.00'</span><span class="token punctuation">,</span> <span class="token string">'2018-02-21'</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>多表查询语法</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span>  字段<span class="token number">1</span><span class="token punctuation">,</span>字段<span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">from</span> 表<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span></code></pre><p>注意：如果不加条件直接进行查询，则会出现以下效果，这种结果我们称之为 笛卡尔乘积</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#查询人员和部门所有信息</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">,</span>dept　</code></pre><p>笛卡尔乘积公式 : A 表中数据条数 * B 表中数据条数 = 笛卡尔乘积.</p><h2 id="关联"><a href="#关联" class="headerlink" title="关联"></a>关联</h2><p>建表语句</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> class<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>stuNum <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">create</span> <span class="token keyword">table</span> students<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>gender <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">,</span>classid <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>classid<span class="token punctuation">)</span> <span class="token keyword">references</span> class<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </code></pre><p>插入一些数据</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> class <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"python01"</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"python02"</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"python03"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"python04"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"tom"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"jack"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"jack1"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"jack12"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"jack14"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"jack145"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"jack1456"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"lilei"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">## 错误,没有键为10的班级</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span></code></pre><p>关联查询</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>class<span class="token punctuation">.</span>name <span class="token keyword">from</span> class <span class="token keyword">inner</span> <span class="token keyword">join</span> students <span class="token keyword">on</span> class<span class="token punctuation">.</span>id<span class="token operator">=</span>students<span class="token punctuation">.</span>classid<span class="token punctuation">;</span><span class="token keyword">select</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>class<span class="token punctuation">.</span>name <span class="token keyword">from</span> class <span class="token keyword">left</span> <span class="token keyword">join</span> students <span class="token keyword">on</span> class<span class="token punctuation">.</span>id<span class="token operator">=</span>students<span class="token punctuation">.</span>classid<span class="token punctuation">;</span><span class="token keyword">select</span> students<span class="token punctuation">.</span>name<span class="token punctuation">,</span>class<span class="token punctuation">.</span>name <span class="token keyword">from</span> class <span class="token keyword">right</span> <span class="token keyword">join</span> students <span class="token keyword">on</span> class<span class="token punctuation">.</span>id<span class="token operator">=</span>students<span class="token punctuation">.</span>classid<span class="token punctuation">;</span></code></pre><p>分类</p><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span>、表A <span class="token keyword">inner</span> <span class="token keyword">join</span> 表B:        表A与表B匹配的行会出现在结果集中<span class="token number">2</span>、表A <span class="token keyword">left</span> <span class="token keyword">join</span> 表B:    表A与表B匹配的行会出现在结果集中，外加表A中独有的数据，未对应的数据使用<span class="token boolean">null</span>填充<span class="token number">3</span>、表A <span class="token keyword">right</span> <span class="token keyword">join</span> 表B:    表A与表B匹配的行会出现在结果集中，外加表B中独有的数据，未对应的数据使用<span class="token boolean">null</span>填充</code></pre><h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p>MySQL 中的约束，添加约束，删除约束，以及其他的一些修饰：</p><h3 id="NOT-NULL-非空约束"><a href="#NOT-NULL-非空约束" class="headerlink" title="NOT NULL (非空约束)"></a>NOT NULL (非空约束)</h3><h4 id="添加非空约束"><a href="#添加非空约束" class="headerlink" title="添加非空约束"></a>添加非空约束</h4><ul><li>建表时直接添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除非空约束"><a href="#删除非空约束" class="headerlink" title="删除非空约束"></a>删除非空约束</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="UNIQUE-唯一约束"><a href="#UNIQUE-唯一约束" class="headerlink" title="UNIQUE (唯一约束)"></a>UNIQUE (唯一约束)</h3><h4 id="添加唯一约束"><a href="#添加唯一约束" class="headerlink" title="添加唯一约束"></a>添加唯一约束</h4><ul><li>建表时直接添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>user_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CONSTRAINT</span> UN_PHONE_EMAIL <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>user_id<span class="token punctuation">,</span>user_name<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#复合约束</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> UN_ID <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> UN_ID <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除唯一性约束"><a href="#删除唯一性约束" class="headerlink" title="删除唯一性约束"></a>删除唯一性约束</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> user_id<span class="token punctuation">;</span>注：唯一但是可以为空<span class="token punctuation">(</span>空和空不相等<span class="token punctuation">)</span></code></pre><h3 id="PRIMARY-KEY-主键约束"><a href="#PRIMARY-KEY-主键约束" class="headerlink" title="PRIMARY KEY (主键约束)"></a>PRIMARY KEY (主键约束)</h3><h4 id="添加主键约束"><a href="#添加主键约束" class="headerlink" title="添加主键约束"></a>添加主键约束</h4><ul><li>建表时直接添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>user_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CONSTRAINT</span> PK_ID_NAME <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">,</span>user_name<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#复合约束</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> PK_ID <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除主键约束"><a href="#删除主键约束" class="headerlink" title="删除主键约束"></a>删除主键约束</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>注：主键约束相当于<span class="token punctuation">(</span>唯一约束<span class="token operator">+</span>非空约束<span class="token punctuation">)</span>一张表中最多有一个主键约束<span class="token punctuation">,</span>如果设置多个主键<span class="token punctuation">,</span>就会出现如下提示：Multiple <span class="token keyword">primary</span> <span class="token keyword">key</span> defined<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>删除主键约束前，如果有自增长需要先删除自增长<span class="token punctuation">,</span>如果不删除自增长就无法删除主键约束</code></pre><h3 id="FOREIGN-KEY-外键约束"><a href="#FOREIGN-KEY-外键约束" class="headerlink" title="FOREIGN KEY (外键约束)"></a>FOREIGN KEY (外键约束)</h3><blockquote><p>对应的字段只能是主键或者唯一约束修饰的字段</p></blockquote><pre class=" language-sql"><code class="language-sql">首先创建两张表:class<span class="token punctuation">,</span>students主表：<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> class<span class="token punctuation">(</span>cla_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>cla_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>从表：<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> students<span class="token punctuation">(</span>stu_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>stu_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>stu_score <span class="token keyword">FLOAT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.0</span><span class="token punctuation">,</span>cla_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CONSTRAINT</span> FK_CLA_ID <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> class<span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#添加外键约束</span><span class="token punctuation">)</span><span class="token punctuation">;</span>也可以这样添加：<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> students <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> FK_CLA_ID FROEIGN <span class="token keyword">KEY</span><span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> class<span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span><span class="token punctuation">;</span>删除外键约束<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> students <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> FK_CLA_ID<span class="token punctuation">;</span><span class="token comment" spellcheck="true">#外键中的级联关系有以下几种情况：</span><span class="token comment" spellcheck="true">#ON DELETE CASCADE 删除主表中的数据时，从表中的数据随之删除</span><span class="token comment" spellcheck="true">#ON UPDATE CASCADE 更新主表中的数据时，从表中的数据随之更新</span><span class="token comment" spellcheck="true">#ON DELETE SET NULL 删除主表中的数据时，从表中的数据置为空</span><span class="token comment" spellcheck="true">#默认 删除主表中的数据前需先删除从表中的数据，否则主表数据不会被删除</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> students<span class="token punctuation">(</span>stu_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>stu_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>stu_score <span class="token keyword">FLOAT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.0</span><span class="token punctuation">,</span>cla_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CONSTRAINT</span> FK_CLA_ID <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> class<span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> students<span class="token punctuation">(</span>stu_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>stu_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>stu_score <span class="token keyword">FLOAT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.0</span><span class="token punctuation">,</span>cla_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CONSTRAINT</span> FK_CLA_ID <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> class<span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> students<span class="token punctuation">(</span>stu_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>stu_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>stu_score <span class="token keyword">FLOAT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.0</span><span class="token punctuation">,</span>cla_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CONSTRAINT</span> FK_CLA_ID <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> class<span class="token punctuation">(</span>cla_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">SET</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>注：插入数据时，先插入主表中的数据，再插入从表中的数据。删除数据时，先删除从表中的数据，再删除主表中的数据。</code></pre><h3 id="CHECK-检查约束"><a href="#CHECK-检查约束" class="headerlink" title="CHECK (检查约束)"></a>CHECK (检查约束)</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> class<span class="token punctuation">(</span>cla_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>cla_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span><span class="token keyword">CHECK</span><span class="token punctuation">(</span>cla_id<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>注：mysql不支持检查约束，但是写上检查约束不会报错</code></pre><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="AUTO-INCREMENT-自增长"><a href="#AUTO-INCREMENT-自增长" class="headerlink" title="AUTO_INCREMENT (自增长)"></a>AUTO_INCREMENT (自增长)</h3><h4 id="添加自增长"><a href="#添加自增长" class="headerlink" title="添加自增长"></a>添加自增长</h4><ul><li>在创建表的时候添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除自增长"><a href="#删除自增长" class="headerlink" title="删除自增长"></a>删除自增长</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>注：There can <span class="token number">be</span> only one auto <span class="token keyword">column</span> <span class="token operator">and</span> it must <span class="token number">be</span> defined <span class="token keyword">as</span> <span class="token number">a</span> <span class="token keyword">key</span><span class="token punctuation">.</span>一张表只能有一个自增长列，并且该列必须定义了约束<span class="token punctuation">(</span>可以是主键约束<span class="token punctuation">,</span>也可以是唯一约束<span class="token punctuation">,</span>也可以是外键约束<span class="token punctuation">,</span>但是不可以是非空和检查约束<span class="token punctuation">)</span>不过自增长一般配合主键使用，并且只能在数字类型中使用</code></pre><h3 id="ZEROFILL-零填充"><a href="#ZEROFILL-零填充" class="headerlink" title="ZEROFILL (零填充)"></a>ZEROFILL (零填充)</h3><h4 id="添加零填充"><a href="#添加零填充" class="headerlink" title="添加零填充"></a>添加零填充</h4><ul><li>在创建表的时候添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> ZEROFILL<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> ZEROFILL<span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> ZEROFILL<span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除零填充"><a href="#删除零填充" class="headerlink" title="删除零填充"></a>删除零填充</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>注：零填充会将未将有效位以外的位用零来显示<span class="token punctuation">,</span>比如某字段数据类型为<span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>而插入的值为<span class="token number">2</span><span class="token punctuation">,</span>那么零填充会显示<span class="token number">00002</span>但是，这个效果在Navicat <span class="token keyword">for</span> MySQL中显示不出来<span class="token punctuation">,</span>只有在DOS窗口下才能显示</code></pre><h3 id="DEFAULT-默认"><a href="#DEFAULT-默认" class="headerlink" title="DEFAULT (默认)"></a>DEFAULT (默认)</h3><h4 id="添加默认约束"><a href="#添加默认约束" class="headerlink" title="添加默认约束"></a>添加默认约束</h4><ul><li>在创建表的时候添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span>  <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span>  <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span>  <span class="token number">2</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除默认约束"><a href="#删除默认约束" class="headerlink" title="删除默认约束"></a>删除默认约束</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="UNSIGNED-无符号位"><a href="#UNSIGNED-无符号位" class="headerlink" title="UNSIGNED (无符号位)"></a>UNSIGNED (无符号位)</h3><h4 id="添加无符号"><a href="#添加无符号" class="headerlink" title="添加无符号"></a>添加无符号</h4><ul><li>在创建表的时候添加<pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user<span class="token punctuation">(</span>user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> UNSIGNED<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>通过 ALTER 语句<pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> UNSIGNED<span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> UNSIGNED<span class="token punctuation">;</span></code></pre></li></ul><h4 id="删除无符号"><a href="#删除无符号" class="headerlink" title="删除无符号"></a>删除无符号</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user <span class="token keyword">MODIFY</span> user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> t_user CHANGE user_id user_id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>注：无符号作用于数值类型<span class="token comment" spellcheck="true">#从查询information_schema中查询指定表中的约束</span><span class="token keyword">USE</span> INFORMATION_SCHEMA<span class="token punctuation">;</span><span class="token keyword">SELECT</span> CONSTRAINT_NAME <span class="token keyword">FROM</span> TABLE_CONSTRAINTS <span class="token keyword">WHERE</span> TABLE_NAME<span class="token operator">=</span><span class="token string">'student'</span><span class="token punctuation">;</span></code></pre><h2 id="数据库事务"><a href="#数据库事务" class="headerlink" title="数据库事务"></a>数据库事务</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>通过一组逻辑操作单元（一组 DML——sql 语句），将数据从一种状态切换到另外一种状态</p><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>（ACID）</p><ul><li>原子性：要么都执行，要么都回滚</li><li>一致性：保证数据的状态操作前和操作后保持一致</li><li>隔离性：多个事务同时操作相同数据库的同一个数据时，一个事务的执行不受另外一个事务的干扰</li><li>持久性：一个事务一旦提交，则数据将持久化到本地，除非其他事务对其进行修改<br>相关步骤：</li></ul><ol><li>开启事务</li><li>编写事务的一组逻辑操作单元（多条 sql 语句）</li><li>提交事务或回滚事务</li></ol><h3 id="事务的分类"><a href="#事务的分类" class="headerlink" title="事务的分类"></a>事务的分类</h3><ul><li>隐式事务，没有明显的开启和结束事务的标志<br><code>insert、update、delete语句本身就是一个事务</code></li><li>显式事务，具有明显的开启和结束事务的标志</li></ul><ol><li>开启事务<pre><code>取消自动提交事务的功能</code></pre></li><li>编写事务的一组逻辑操作单元（多条 sql 语句）<pre><code>insertupdatedelete</code></pre></li><li>提交事务或回滚事务</li></ol><h3 id="使用到的关键字"><a href="#使用到的关键字" class="headerlink" title="使用到的关键字"></a>使用到的关键字</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">set</span> autocommit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span><span class="token keyword">commit</span><span class="token punctuation">;</span><span class="token keyword">rollback</span><span class="token punctuation">;</span><span class="token keyword">savepoint</span>  断点<span class="token keyword">commit</span> <span class="token keyword">to</span> 断点<span class="token keyword">rollback</span> <span class="token keyword">to</span> 断点</code></pre><h3 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h3><p>事务并发问题如何发生？<br>当多个事务同时操作同一个数据库的相同数据时</p><p>事务的并发问题有哪些？</p><ul><li>脏读：一个事务读取到了另外一个事务未提交的数据</li><li>不可重复读：同一个事务中，多次读取到的数据不一致</li><li>幻读：一个事务读取数据时，另外一个事务进行更新，导致第一个事务读取到了没有更新的数据</li></ul><p>如何避免事务的并发问题？</p><pre><code>通过设置事务的隔离级别1、READ UNCOMMITTED2、READ COMMITTED 可以避免脏读3、REPEATABLE READ 可以避免脏读、不可重复读和一部分幻读4、SERIALIZABLE可以避免脏读、不可重复读和幻读</code></pre><p>设置隔离级别</p><pre><code>set session|global  transaction isolation level 隔离级别名;</code></pre><p>查看隔离级别</p><pre><code>select @@tx_isolation;</code></pre><h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><blockquote><p>含义：理解成一张虚拟的表</p></blockquote><p>视图和表的区别：</p><pre><code>使用方式    占用物理空间视图    完全相同    不占用，仅仅保存的是sql逻辑表    完全相同    占用</code></pre><p>视图的好处：</p><pre><code>1、sql语句提高重用性，效率高2、和表实现了分离，提高了安全性</code></pre><h3 id="视图的创建"><a href="#视图的创建" class="headerlink" title="视图的创建"></a>视图的创建</h3><pre class=" language-sql"><code class="language-sql">语法：<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span>  视图名<span class="token keyword">AS</span>查询语句<span class="token punctuation">;</span></code></pre><h3 id="视图的增删改查"><a href="#视图的增删改查" class="headerlink" title="视图的增删改查"></a>视图的增删改查</h3><ul><li>查看视图的数据<pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_v4<span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_v1 <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">'Partners'</span><span class="token punctuation">;</span></code></pre></li><li>插入视图的数据<pre class=" language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_v4<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span>department_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'虚竹'</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>修改视图的数据<pre class=" language-sql"><code class="language-sql"><span class="token keyword">UPDATE</span> my_v4 <span class="token keyword">SET</span> last_name <span class="token operator">=</span><span class="token string">'梦姑'</span> <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">'虚竹'</span><span class="token punctuation">;</span></code></pre></li><li>删除视图的数据<pre class=" language-sql"><code class="language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> my_v4<span class="token punctuation">;</span></code></pre></li></ul><h3 id="某些视图不能更新"><a href="#某些视图不能更新" class="headerlink" title="某些视图不能更新"></a>某些视图不能更新</h3><pre class=" language-sql"><code class="language-sql">包含以下关键字的sql语句：分组函数、<span class="token keyword">distinct</span>、<span class="token keyword">group</span>  <span class="token keyword">by</span>、<span class="token keyword">having</span>、<span class="token keyword">union</span>或者<span class="token keyword">union</span> <span class="token keyword">all</span>常量视图<span class="token keyword">Select</span>中包含子查询<span class="token keyword">join</span><span class="token keyword">from</span>一个不能更新的视图<span class="token keyword">where</span>子句的子查询引用了<span class="token keyword">from</span>子句中的表</code></pre><h3 id="视图逻辑的更新"><a href="#视图逻辑的更新" class="headerlink" title="视图逻辑的更新"></a>视图逻辑的更新</h3><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">#方式一：</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> REPLACE <span class="token keyword">VIEW</span> test_v7<span class="token keyword">AS</span><span class="token keyword">SELECT</span> last_name <span class="token keyword">FROM</span> employees<span class="token keyword">WHERE</span> employee_id<span class="token operator">></span><span class="token number">100</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#方式二:</span><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> test_v7<span class="token keyword">AS</span><span class="token keyword">SELECT</span> employee_id <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> test_v7<span class="token punctuation">;</span></code></pre><h3 id="视图的删除"><a href="#视图的删除" class="headerlink" title="视图的删除"></a>视图的删除</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> test_v1<span class="token punctuation">,</span>test_v2<span class="token punctuation">,</span>test_v3<span class="token punctuation">;</span></code></pre><h3 id="视图结构的查看"><a href="#视图结构的查看" class="headerlink" title="视图结构的查看"></a>视图结构的查看</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DESC</span> test_v7<span class="token punctuation">;</span><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> test_v7<span class="token punctuation">;</span></code></pre><h2 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h2><blockquote><p>含义：一组经过预先编译的 sql 语句的集合</p></blockquote><p>好处：</p><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span>、提高了sql语句的重用性，减少了开发程序员的压力<span class="token number">2</span>、提高了效率<span class="token number">3</span>、减少了传输次数</code></pre><p>分类：</p><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span>、无返回无参<span class="token number">2</span>、仅仅带<span class="token operator">in</span>类型，无返回有参<span class="token number">3</span>、仅仅带<span class="token keyword">out</span>类型，有返回无参<span class="token number">4</span>、既带<span class="token operator">in</span>又带<span class="token keyword">out</span>，有返回有参<span class="token number">5</span>、带<span class="token keyword">inout</span>，有返回有参注意：<span class="token operator">in</span>、<span class="token keyword">out</span>、<span class="token keyword">inout</span>都可以在一个存储过程中带多个</code></pre><h4 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h4><p>语法：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">procedure</span> 存储过程名<span class="token punctuation">(</span><span class="token operator">in</span><span class="token operator">|</span><span class="token keyword">out</span><span class="token operator">|</span><span class="token keyword">inout</span> 参数名  参数类型<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token keyword">begin</span>    存储过程体<span class="token keyword">end</span></code></pre><p>类似于方法：</p><pre class=" language-sql"><code class="language-sql">修饰符 返回类型 方法名<span class="token punctuation">(</span>参数类型 参数名<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>{    方法体<span class="token punctuation">;</span>}</code></pre><p>注意</p><pre class=" language-sql"><code class="language-sql"><span class="token number">1</span>、需要设置新的结束标记<span class="token keyword">delimiter</span> 新的结束标记示例：<span class="token keyword">delimiter</span> $<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> 存储过程名<span class="token punctuation">(</span><span class="token operator">IN</span><span class="token operator">|</span><span class="token keyword">OUT</span><span class="token operator">|</span><span class="token keyword">INOUT</span> 参数名  参数类型<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token keyword">BEGIN</span>    sql语句<span class="token number">1</span><span class="token punctuation">;</span>    sql语句<span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">END</span> $<span class="token number">2</span>、存储过程体中可以有多条sql语句，如果仅仅一条sql语句，则可以省略<span class="token keyword">begin</span> <span class="token keyword">end</span><span class="token number">3</span>、参数前面的符号的意思<span class="token operator">in</span>:该参数只能作为输入 （该参数不能做返回值）<span class="token keyword">out</span>：该参数只能作为输出（该参数只能做返回值）<span class="token keyword">inout</span>：既能做输入又能做输出</code></pre><h4 id="调用存储过程"><a href="#调用存储过程" class="headerlink" title="调用存储过程"></a>调用存储过程</h4><pre><code>call 存储过程名(实参列表)</code></pre><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h3><p>学过的函数：<code>LENGTH</code>、<code>SUBSTR</code>、<code>CONCAT</code> 等<br>语法：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> 函数名<span class="token punctuation">(</span>参数名 参数类型<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> 返回类型<span class="token keyword">BEGIN</span>    函数体<span class="token keyword">END</span></code></pre><h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> 函数名（实参列表）</code></pre><h3 id="函数和存储过程的区别"><a href="#函数和存储过程的区别" class="headerlink" title="函数和存储过程的区别"></a>函数和存储过程的区别</h3><pre><code>关键字        调用语法    返回值            应用场景函数        FUNCTION    SELECT 函数()    只能是一个        一般用于查询结果为一个值并返回时，当有返回值而且仅仅一个存储过程    PROCEDURE    CALL 存储过程()    可以有0个或多个        一般用于更新</code></pre><h2 id="流程控制结构"><a href="#流程控制结构" class="headerlink" title="流程控制结构"></a>流程控制结构</h2><h3 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h3><p>一、全局变量<br>作用域：针对于所有会话（连接）有效，但不能跨重启</p><pre><code>查看所有全局变量SHOW GLOBAL VARIABLES;查看满足条件的部分系统变量SHOW GLOBAL VARIABLES LIKE &#39;%char%&#39;;查看指定的系统变量的值SELECT @@global.autocommit;为某个系统变量赋值SET @@global.autocommit=0;SET GLOBAL autocommit=0;</code></pre><p>二、会话变量<br>作用域：针对于当前会话（连接）有效</p><pre><code>查看所有会话变量SHOW SESSION VARIABLES;查看满足条件的部分会话变量SHOW SESSION VARIABLES LIKE &#39;%char%&#39;;查看指定的会话变量的值SELECT @@autocommit;SELECT @@session.tx_isolation;为某个会话变量赋值SET @@session.tx_isolation=&#39;read-uncommitted&#39;;SET SESSION tx_isolation=&#39;read-committed&#39;;</code></pre><h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><p>一、用户变量<br>声明并初始化：</p><pre><code>SET @变量名=值;SET @变量名:=值;SELECT @变量名:=值;</code></pre><p>赋值：</p><pre><code>方式一：一般用于赋简单的值SET 变量名=值;SET 变量名:=值;SELECT 变量名:=值;</code></pre><pre><code>方式二：一般用于赋表 中的字段值SELECT 字段名或表达式 INTO 变量FROM 表;</code></pre><p>使用：<br><code>select @变量名;</code></p><p>二、局部变量<br>声明：</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">declare</span> 变量名 类型 【<span class="token keyword">default</span> 值】<span class="token punctuation">;</span></code></pre><p>赋值：</p><pre><code>方式一：一般用于赋简单的值SET 变量名=值;SET 变量名:=值;SELECT 变量名:=值;</code></pre><pre><code>方式二：一般用于赋表 中的字段值SELECT 字段名或表达式 INTO 变量FROM 表;</code></pre><p>使用：</p><pre><code>select 变量名</code></pre><p>二者的区别：</p><pre><code>作用域            定义位置        语法用户变量    当前会话        会话的任何地方        加@符号，不用指定类型局部变量    定义它的BEGIN END中     BEGIN END的第一句话    一般不用加@,需要指定类型</code></pre><h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><p>一、if 函数<br>语法：if (条件，值 1，值 2)<br>特点：可以用在任何位置</p><p>二、case 语句<br>语法：</p><pre><code>情况一：类似于switchcase 表达式when 值1 then 结果1或语句1(如果是语句，需要加分号) when 值2 then 结果2或语句2(如果是语句，需要加分号)...else 结果n或语句n(如果是语句，需要加分号)end 【case】（如果是放在begin end中需要加上case，如果放在select后面不需要）情况二：类似于多重ifcase when 条件1 then 结果1或语句1(如果是语句，需要加分号) when 条件2 then 结果2或语句2(如果是语句，需要加分号)...else 结果n或语句n(如果是语句，需要加分号)end 【case】（如果是放在begin end中需要加上case，如果放在select后面不需要）</code></pre><p>特点：<br>可以用在任何位置<br>三、if elseif 语句<br>语法：</p><pre><code>if 情况1 then 语句1;elseif 情况2 then 语句2;...else 语句n;end if;</code></pre><p>特点：<br>只能用在 begin end 中。</p><p>三者比较：<br>应用场合<br>if 函数 简单双分支<br>case 结构 等值判断 的多分支<br>if 结构 区间判断 的多分支</p><h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><p>语法：</p><pre><code>【标签：】WHILE 循环条件  DO    循环体END WHILE 【标签】;</code></pre><p>特点：</p><pre><code>只能放在BEGIN END里面如果要搭配leave跳转语句，需要使用标签，否则可以不用标签leave类似于java中的break语句，跳出所在循环！！！</code></pre><h2 id="数据库引擎"><a href="#数据库引擎" class="headerlink" title="数据库引擎"></a>数据库引擎</h2><h3 id="查看数据库支持的引擎"><a href="#查看数据库支持的引擎" class="headerlink" title="查看数据库支持的引擎"></a>查看数据库支持的引擎</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> engines<span class="token punctuation">;</span></code></pre><h3 id="查看数据库当前默认引擎"><a href="#查看数据库当前默认引擎" class="headerlink" title="查看数据库当前默认引擎"></a>查看数据库当前默认引擎</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%storage_engine%'</span><span class="token punctuation">;</span></code></pre><h3 id="查看数据表使用的引擎"><a href="#查看数据表使用的引擎" class="headerlink" title="查看数据表使用的引擎"></a>查看数据表使用的引擎</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> table_name<span class="token punctuation">;</span></code></pre><h3 id="修改表的存储引擎"><a href="#修改表的存储引擎" class="headerlink" title="修改表的存储引擎"></a>修改表的存储引擎</h3><pre class=" language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> table_name <span class="token keyword">engine</span><span class="token operator">=</span>engine_name<span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【11】Vue基础：混入和过滤器</title>
      <link href="/categories/frontend/3f39b042.html"/>
      <url>/categories/frontend/3f39b042.html</url>
      
        <content type="html"><![CDATA[<h2 id="mixin混入"><a href="#mixin混入" class="headerlink" title="mixin混入"></a>mixin混入</h2><p>混入 (<code>mixin</code>) 提供了一种非常灵活的方式，来分发 <code>Vue</code> 组件中的可复用功能。一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。<br>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>mixin 混入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>姓名：{{ name }}，性别：{{ sex }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> mixin <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        name<span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>                        sex<span class="token punctuation">:</span> <span class="token string">'男'</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>mixin<span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><ul><li>当组件和混入对象含有同名选项时，这些选项将以恰当的方式进行“合并”。</li><li>数据对象在内部会进行递归合并，并在发生冲突时以组件数据优先。</li></ul><h2 id="filters过滤器"><a href="#filters过滤器" class="headerlink" title="filters过滤器"></a>filters过滤器</h2><p><code>Vue</code> 允许你自定义过滤器，可被用于一些常见的文本格式化。过滤器可以用在两个地方：双花括号插值和 <code>v-bind</code> 表达式 (后者从 <code>2.1.0+</code> 开始支持)。过滤器应该被添加在 <code>JavaScript</code> 表达式的尾部，由“管道”符号指示。<br>模版代码：</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 在双花括号中 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{ msg | toUpperCase }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 在 `v-bind` 中 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>msg</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msg | toUpperCase<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>filters 过滤器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{ msg | toUpperCase }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token function">toUpperCase</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        msg<span class="token punctuation">:</span> <span class="token string">'abcdefg'</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【10】Vue基础：将原生事件绑定到组件</title>
      <link href="/categories/frontend/483e80d4.html"/>
      <url>/categories/frontend/483e80d4.html</url>
      
        <content type="html"><![CDATA[<h2 id="native修饰符"><a href="#native修饰符" class="headerlink" title=".native修饰符"></a>.native修饰符</h2><p>我们有时候需要对封装好的组件做一些原生事件的操作，比如点击<code>click</code>事件，这个时候可以使用<code>.native</code>修饰符完成。<br>模版代码：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-demo</span> <span class="token attr-name">@click.native</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-demo</span><span class="token punctuation">></span></span></code></pre><p>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>.native 修饰符<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-btn</span> <span class="token attr-name">@click.native</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-btn</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> VBtn <span class="token operator">=</span> <span class="token punctuation">{</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;button>点击我&lt;/button>`</span></span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        msg<span class="token punctuation">:</span> <span class="token string">''</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                components<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token string">'v-btn'</span><span class="token punctuation">:</span> VBtn                <span class="token punctuation">}</span><span class="token punctuation">,</span>                methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token function">onClick</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我被点击了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>在浏览器运行时，点击按钮时，弹出<code>我被点击了</code>，说明<code>.native</code>修饰符生效。如果去掉<code>.native</code>修饰符后，再次点击按钮没有任何反应。</p><h2 id="其他情况"><a href="#其他情况" class="headerlink" title="其他情况"></a>其他情况</h2><p><code>.native</code>修饰符虽然在一定场景下很使用，但是在尝试监听一个类似<code>&lt;input&gt;</code>的元素时，该修饰符不起作用。为了解决这个问题，<code>Vue</code> 提供了一个 <code>$listeners</code> 属性，它是一个对象，里面包含了作用在这个组件上的所有监听器。<br>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>$listeners<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>文本框内容为：{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-input</span> <span class="token attr-name">@input.native</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onInput<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-input</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> VInput <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// computed 是计算属性，这个后期会提到</span>                computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token function">inputListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">// `Object.assign` 将所有的对象合并为一个新对象</span>                        <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>                            <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                            <span class="token comment" spellcheck="true">// 从父级添加所有的监听器</span>                            vm<span class="token punctuation">.</span>$listeners<span class="token punctuation">,</span>                            <span class="token punctuation">{</span>                                <span class="token comment" spellcheck="true">// 复写 input 事件</span>                                <span class="token function">input</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>                                    vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token punctuation">}</span>                            <span class="token punctuation">}</span>                        <span class="token punctuation">)</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`                    &lt;label>                        &lt;span>将原生事件绑定到组件：&lt;/span>                        &lt;input v-on="inputListeners">                    &lt;/label>                `</span></span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        msg<span class="token punctuation">:</span> <span class="token string">''</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                components<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token string">'v-input'</span><span class="token punctuation">:</span> VInput                <span class="token punctuation">}</span><span class="token punctuation">,</span>                methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token function">onInput</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="sync修饰符"><a href="#sync修饰符" class="headerlink" title=".sync修饰符"></a>.sync修饰符</h2><ul><li><code>.sync</code> 修饰符是为了解决<code>prop</code>进行“双向绑定”的问题。</li><li>需要注意带有 <code>.sync</code> 修饰符的 <code>v-bind</code> 不能和表达式一起使用 (例如 <code>v-bind:title.sync=”doc.title + ‘!’”</code> 是无效的)。<br>模版代码：<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-demo</span> <span class="token attr-name">:title.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-demo</span><span class="token punctuation">></span></span></code></pre>示例代码：<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>.sync 修饰符<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>父组件：{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-demo</span> <span class="token attr-name">:title.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-demo</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">          <span class="token keyword">var</span> VDemo <span class="token operator">=</span> <span class="token punctuation">{</span>              props<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'title'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>              template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;div>{{ title }}&lt;/div>`</span></span><span class="token punctuation">,</span>              <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span>                  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span>          <span class="token punctuation">}</span><span class="token punctuation">;</span>          <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>              el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>              <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token keyword">return</span> <span class="token punctuation">{</span>                      msg<span class="token punctuation">:</span> <span class="token string">'我是标题'</span>                  <span class="token punctuation">}</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              components<span class="token punctuation">:</span> <span class="token punctuation">{</span>                  <span class="token string">'v-demo'</span><span class="token punctuation">:</span> VDemo              <span class="token punctuation">}</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【09】Vue基础：组件</title>
      <link href="/categories/frontend/d137d16e.html"/>
      <url>/categories/frontend/d137d16e.html</url>
      
        <content type="html"><![CDATA[<h2 id="基本示例"><a href="#基本示例" class="headerlink" title="基本示例"></a>基本示例</h2><ul><li>在Vue中，组件是一个很强大的功能，组件可以扩展HTML元素，封装可重用的代码。比如在页面中的某一部分需要在多个场景中使用，那么我们可以将需要部分提取出来，从而提高代码的复用率。</li><li>所有的Vue组件都是Vue的实列，因此它可以接受Vue中的所有的生命周期钩子。<br>示例代码：<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>组件基础<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-btn</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-btn</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-btn</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-btn</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">          <span class="token comment" spellcheck="true">// 自定义组件</span>          Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'v-btn'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>              data<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token keyword">return</span> <span class="token punctuation">{</span>                      count<span class="token punctuation">:</span> <span class="token number">0</span>                  <span class="token punctuation">}</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`                  &lt;div>                      &lt;h1>{{ count }}&lt;/h1>                      &lt;button @click='count++'>点击我试试&lt;/button>                  &lt;/div>              `</span></span>          <span class="token punctuation">}</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true">// 实例化</span>          <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> el<span class="token punctuation">:</span> <span class="token string">'#app'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></li></ul><h2 id="data-必须是一个函数"><a href="#data-必须是一个函数" class="headerlink" title="data 必须是一个函数"></a>data 必须是一个函数</h2><p>在上面的示例代码中，我们可以看到有一段代码是这样的：</p><pre class=" language-javascript"><code class="language-javascript">data<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        count<span class="token punctuation">:</span> <span class="token number">0</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>那么，为什么<code>data</code>中的数据需要使用函数<code>return</code>回来，而不直接使用<code>Object</code>形式呢？</p><ul><li><code>vue</code>组件中<code>data</code>值不能为对象，因为对象是引用类型，组件可能会被多个实例同时引用。如果<code>data</code>值为对象，将导致多个实例共享一个对象，其中一个组件改变<code>data</code>属性值，其它实例也会受到影响。</li><li><code>data</code>为函数，通过<code>return</code> 返回对象的拷贝，致使每个实例都有自己独立的对象，实例之间可以互不影响的改变<code>data</code>属性值。</li></ul><h3 id="例子一【引用类型】："><a href="#例子一【引用类型】：" class="headerlink" title="例子一【引用类型】："></a>例子一【引用类型】：</h3><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>例子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>            fn<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> demo01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> demo02 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            demo01<span class="token punctuation">.</span>data<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token string">`                &lt;div>[demo02.data.a]：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>demo02<span class="token punctuation">.</span>data<span class="token punctuation">.</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div>            `</span></span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>打开浏览器运行上面的代码：可以看到页面显示内容为：</p><pre class=" language-html"><code class="language-html">[demo02.data.a]：5</code></pre><p>为什么<code>demo02.data.a</code>不是<code>1</code>呢？<br>因为每个组件的data都在内存的同一个地址中，一个数据改变了其他也会跟着改变。</p><h3 id="例子二【函数】："><a href="#例子二【函数】：" class="headerlink" title="例子二【函数】："></a>例子二【函数】：</h3><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>例子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            fn<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> demo01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> demo02 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            demo01<span class="token punctuation">.</span>data<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token string">`                &lt;div>[demo02.data.a]：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>demo02<span class="token punctuation">.</span>data<span class="token punctuation">.</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div>            `</span></span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>打开浏览器运行上面的代码：可以看到页面显示内容为：</p><pre class=" language-html"><code class="language-html">[demo02.data.a]：1</code></pre><p>为什么<code>demo02.data.a</code>是<code>1</code>呢？<br>因为<code>data</code>是一个函数时，每个组件实例都有自己的作用域，每个实例相互独立，不会相互影响。</p><h2 id="通过-Prop-向子组件传递数据"><a href="#通过-Prop-向子组件传递数据" class="headerlink" title="通过 Prop 向子组件传递数据"></a>通过 Prop 向子组件传递数据</h2><p>模版写法：</p><pre class=" language-javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'v-h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'msg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;h1>{{ msg }}&lt;/h1>`</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>组件基础<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-h1</span> <span class="token attr-name">msg</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>我是标题<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-h1</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'v-h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'msg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;h1>{{ msg }}&lt;/h1>`</span></span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> el<span class="token punctuation">:</span> <span class="token string">'#app'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="监听子组件事件"><a href="#监听子组件事件" class="headerlink" title="监听子组件事件"></a>监听子组件事件</h2><p>在我们开发组件时，它的一些功能可能要求我们和父级组件进行沟通。<br>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>组件基础<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">fontSize</span><span class="token punctuation">:</span> fontSize + <span class="token string">'em'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-p</span> <span class="token attr-name">@big-font</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fontSize++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'v-p'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`                    &lt;div>                        &lt;p>我是标题&lt;/p>                        &lt;button @click="$emit('big-font')">放大文字&lt;/button>                    &lt;/div>                `</span></span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                 el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        fontSize<span class="token punctuation">:</span> <span class="token number">1</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>通过上面的代码可以发现，子组件可以通过调用内建的<code>$emit</code>方法并传入事件名称来触发一个事件，代码片段：</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 子组件 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>big-font<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>放大文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 父组件 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-p</span> <span class="token attr-name">@big-font</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fontSize++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-p</span><span class="token punctuation">></span></span></code></pre><h3 id="使用事件抛出一个值"><a href="#使用事件抛出一个值" class="headerlink" title="使用事件抛出一个值"></a>使用事件抛出一个值</h3><p>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>组件基础<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">fontSize</span><span class="token punctuation">:</span> fontSize + <span class="token string">'em'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-p</span> <span class="token attr-name">@big-font</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fontSize +<span class="token punctuation">=</span> $event<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'v-p'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`                    &lt;div>                        &lt;p>我是标题&lt;/p>                        &lt;button @click="$emit('big-font', 0.1)">放大文字&lt;/button>                    &lt;/div>                `</span></span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                 el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        fontSize<span class="token punctuation">:</span> <span class="token number">1</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>代码片段：</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 子组件 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>$emit(<span class="token punctuation">'</span>big-font<span class="token punctuation">'</span>, 0.1)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>放大文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 父组件 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-p</span> <span class="token attr-name">@big-font</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fontSize +<span class="token punctuation">=</span> $event<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-p</span><span class="token punctuation">></span></span></code></pre><p>跟上面的例子做对比可以发现，使用事件抛出一个值时，只需在<code>$emit</code>上添加多一个参数即可，接收时使用<code>$event</code>进行接收。</p><h2 id="通过插槽分发内容"><a href="#通过插槽分发内容" class="headerlink" title="通过插槽分发内容"></a>通过插槽分发内容</h2><p>在编写组件的过程中，有时我们希望组件里面能自己定义一些<code>HTML</code>元素，这时我们可以使用<code>&lt;slot&gt;</code>实现。<br>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>组件基础<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-demo</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>我是内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-demo</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'v-demo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`                    &lt;div>                        &lt;h1>我是标题&lt;/h1>                        &lt;slot>&lt;/slot>                    &lt;/div>                `</span></span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> el<span class="token punctuation">:</span> <span class="token string">'#app'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="定义组件名"><a href="#定义组件名" class="headerlink" title="定义组件名"></a>定义组件名</h2><p>两种方式：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// 使用 kebab-case</span>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component-name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 使用 PascalCase</span>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MyComponentName'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="组件的注册"><a href="#组件的注册" class="headerlink" title="组件的注册"></a>组件的注册</h2><p>组件的注册分为<code>全局注册</code>和<code>局部注册</code>两种。</p><h3 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h3><p>代码模版：</p><pre class=" language-javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'ComponentName'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> el<span class="token punctuation">:</span> <span class="token string">'#app'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在组件基础中的所有代码都为全局注册。</p><h3 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h3><p>代码模版：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// 编写 v-demo 组件</span><span class="token keyword">var</span> VDemo <span class="token operator">=</span> <span class="token punctuation">{</span>    template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;h1>我是标题&lt;/h1>`</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 注册 v-demo 组件</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'v-demo'</span><span class="token punctuation">:</span> VDemo    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>示例代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>深入了解组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-demo</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-demo</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> VDemo <span class="token operator">=</span> <span class="token punctuation">{</span>                template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;h1>我是标题&lt;/h1>`</span></span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                components<span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token string">'v-demo'</span><span class="token punctuation">:</span> VDemo                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h3 id="全局注册和局部注册的区别"><a href="#全局注册和局部注册的区别" class="headerlink" title="全局注册和局部注册的区别"></a>全局注册和局部注册的区别</h3><p>全局注册往往是不够理想的。比如，如果你使用一个像 <code>webpack</code> 这样的构建系统，全局注册所有的组件意味着即便你已经不再使用一个组件了，它仍然会被包含在你最终的构建结果中。这造成了用户下载的 <code>JavaScript</code> 的无谓的增加。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【08】Vue基础：其他指令</title>
      <link href="/categories/frontend/a630e1f8.html"/>
      <url>/categories/frontend/a630e1f8.html</url>
      
        <content type="html"><![CDATA[<h2 id="v-once-指令"><a href="#v-once-指令" class="headerlink" title="v-once 指令"></a>v-once 指令</h2><p>只渲染元素和组件一次，随后的重新渲染，元素/组件及其所有的子节点将被视为静态内容并跳过。<br>示例：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-once<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-once</span><span class="token punctuation">></span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        msg<span class="token punctuation">:</span> <span class="token number">123</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>在浏览器中运行代码时可以发现，在文本框中输入内容时，<code>div</code>元素中的内容并没有跟着改变，这是因为在浏览器运行时，DOM元素已经渲染完成了。</p><h2 id="v-pre-指令"><a href="#v-pre-指令" class="headerlink" title="v-pre 指令"></a>v-pre 指令</h2><p>跳过这个元素和它的子元素的编译过程。可以用来显示原始 <code>Mustache</code> 标签。跳过大量没有指令的节点会加快编译。<br>示例：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-pre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-pre</span><span class="token punctuation">></span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        msg<span class="token punctuation">:</span> <span class="token number">123</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>在浏览器中运行代码时可以看到，页面显示的内容为<code></code>。</p><h2 id="v-cloak-指令"><a href="#v-cloak-指令" class="headerlink" title="v-cloak 指令"></a>v-cloak 指令</h2><p>这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 <code>[v-cloak] { display: none }</code> 一起用时，这个指令可以隐藏未编译的 <code>Mustache</code> 标签直到实例准备完毕。<br>css写法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token attribute">[v-cloak]</span> </span><span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>示例：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-cloak<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">            <span class="token selector"><span class="token attribute">[v-cloak]</span> </span><span class="token punctuation">{</span>                <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">></span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        msg<span class="token punctuation">:</span> <span class="token number">123</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p><code>&lt;div v-cloak&gt;&lt;/div&gt;</code>里的内容不会显示，直到编译结束后才会进行显示。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【07】Vue基础：v-bind的使用</title>
      <link href="/categories/frontend/55c41a85.html"/>
      <url>/categories/frontend/55c41a85.html</url>
      
        <content type="html"><![CDATA[<h2 id="class-对象语法"><a href="#class-对象语法" class="headerlink" title="class 对象语法"></a>class 对象语法</h2><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ green: isActive01 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>多个：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ red: isActive02, font: isActive03 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- -------------------- 简写 -------------------- --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ green: isActive01 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>多个：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ red: isActive02, font: isActive03 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>完整代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-bind class<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">            <span class="token selector"><span class="token class">.blue</span> </span><span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector"><span class="token class">.green</span> </span><span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector"><span class="token class">.red</span> </span><span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector"><span class="token class">.font</span> </span><span class="token punctuation">{</span>                <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>styl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ green: isActive01 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ red: isActive02, font: isActive03 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">             <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                 el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     <span class="token keyword">return</span> <span class="token punctuation">{</span>                         styl<span class="token punctuation">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>                        isActive01<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                        isActive02<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                        isActive03<span class="token punctuation">:</span> <span class="token boolean">true</span>                     <span class="token punctuation">}</span>                 <span class="token punctuation">}</span>             <span class="token punctuation">}</span><span class="token punctuation">)</span>         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="class-数组语法"><a href="#class-数组语法" class="headerlink" title="class 数组语法"></a>class 数组语法</h2><p> 模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[ class01, class02 ]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- -------------------- 简写 -------------------- --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[ class01, class02 ]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>完整代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-bind class<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">            <span class="token selector"><span class="token class">.red</span> </span><span class="token punctuation">{</span>                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector"><span class="token class">.font</span> </span><span class="token punctuation">{</span>                <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[ class01, class02 ]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        class01<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>                        class02<span class="token punctuation">:</span> <span class="token string">'font'</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="style-对象语法"><a href="#style-对象语法" class="headerlink" title="style 对象语法"></a>style 对象语法</h2><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">'red'</span>, <span class="token property">fontSize</span><span class="token punctuation">:</span> <span class="token string">'50px'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- -------------------- 简写 -------------------- --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">'red'</span>, <span class="token property">fontSize</span><span class="token punctuation">:</span> <span class="token string">'50px'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>完整代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-bind style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">'red'</span>, <span class="token property">fontSize</span><span class="token punctuation">:</span> <span class="token string">'50px'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">styleObject</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>白色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        styleObject<span class="token punctuation">:</span> <span class="token punctuation">{</span>                            width<span class="token punctuation">:</span> <span class="token string">'100px'</span><span class="token punctuation">,</span>                            height<span class="token punctuation">:</span> <span class="token string">'100px'</span><span class="token punctuation">,</span>                            backgroundColor<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>                            color<span class="token punctuation">:</span> <span class="token string">'white'</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><blockquote><p><strong>注</strong>：当样式类似于<code>font-size</code>这种形式时，需要改写为<code>fontSize</code>。</p></blockquote><h2 id="style-数组语法"><a href="#style-数组语法" class="headerlink" title="style 数组语法"></a>style 数组语法</h2><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">[style<span class="token number">01</span>, style<span class="token number">02</span>]</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- -------------------- 简写 -------------------- --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">[style<span class="token number">01</span>, style<span class="token number">02</span>]</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>完整代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-bind style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">[style<span class="token number">01</span>, style<span class="token number">02</span>]</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        style01<span class="token punctuation">:</span> <span class="token punctuation">{</span>                            width<span class="token punctuation">:</span> <span class="token string">'100px'</span><span class="token punctuation">,</span>                            height<span class="token punctuation">:</span> <span class="token string">'100px'</span><span class="token punctuation">,</span>                            backgroundColor<span class="token punctuation">:</span> <span class="token string">'red'</span>                        <span class="token punctuation">}</span><span class="token punctuation">,</span>                        style02<span class="token punctuation">:</span> <span class="token punctuation">{</span>                            color<span class="token punctuation">:</span> <span class="token string">'white'</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="需要注意的地方"><a href="#需要注意的地方" class="headerlink" title="需要注意的地方"></a>需要注意的地方</h2><p><code>v-bind</code> 不仅用于 <code>class</code> 和 <code>style</code> 中，还用于其它，如：<code>src</code>，<code>href</code>等等。当<code>v-bind:style</code>使用需要添加浏览器引擎前缀的 <code>CSS</code> 属性时，如 <code>transform</code>，<code>Vue.js</code> 会自动侦测并添加相应的前缀。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【06】Vue基础：v-model的使用</title>
      <link href="/categories/frontend/d74debda.html"/>
      <url>/categories/frontend/d74debda.html</url>
      
        <content type="html"><![CDATA[<h2 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h2><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            message<span class="token punctuation">:</span> <span class="token string">'123'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件后，在文本框输入内容时可以看到文本框下面的内容也在跟着变化，这是因为 <code>v-model</code> 指令在表单<code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code>及<code>&lt;select&gt;</code>元素上创建双向数据绑定，它会根据控件类型自动选取正确的方法来更新元素。</p><blockquote><p><strong>注意</strong>：<code>v-model</code> 会忽略所有表单元素的 <code>value</code>、<code>checked</code>、<code>selected</code>、<code>attribute</code> 的初始值而总是将 <code>Vue</code> 实例的数据作为数据来源。你应该通过 <code>JavaScript</code> 在组件的 <code>data</code> 选项中声明初始值。</p></blockquote><h2 id="常见修饰符"><a href="#常见修饰符" class="headerlink" title="常见修饰符"></a>常见修饰符</h2><table><thead><tr><th align="center">修饰符</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">.lazy</td><td align="center">取代 <code>input</code> 监听 <code>change</code> 事件。</td></tr><tr><td align="center">.number</td><td align="center">输入字符串转为数字。</td></tr><tr><td align="center">.trim</td><td align="center">输入去掉首尾空格。</td></tr></tbody></table><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model.trim</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            message<span class="token punctuation">:</span> <span class="token string">'123'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件后，可以看到在文本框的头和尾输入空格是无效的。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【05】Vue基础：v-on的使用</title>
      <link href="/categories/frontend/d65a1577.html"/>
      <url>/categories/frontend/d65a1577.html</url>
      
        <content type="html"><![CDATA[<h2 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h2><p>模板写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>或简写：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我被点击了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件后，点击里面的按钮可以看到成功弹出<code>我被点击了</code>。</p><h2 id="回车事件"><a href="#回车事件" class="headerlink" title="回车事件"></a>回车事件</h2><p>模板写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.enter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onEnter<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>或简写：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@keyup.enter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onEnter<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token function">onEnter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我被回车了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件后，点击文本框，然后回车可以看到成功弹出<code>我被回车了</code>。</p><h2 id="常见修饰符"><a href="#常见修饰符" class="headerlink" title="常见修饰符"></a>常见修饰符</h2><p>在日常开发中，经常会使用event.preventDefault（阻止节点默认行为）和event.stopPropagation（阻止事件冒泡），Vue将其封装成简短易用的事件修饰符，可以写在事件名称的后面。</p><table><thead><tr><th align="center">名称</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">.stop</td><td align="center">阻止事件冒泡</td></tr><tr><td align="center">.prevent</td><td align="center">阻止元素默认行为</td></tr><tr><td align="center">.capture</td><td align="center">阻止事件捕获</td></tr><tr><td align="center">.self</td><td align="center">限制事件仅作用于节点自身</td></tr><tr><td align="center">.once</td><td align="center">事件被触发一次后即解除监听</td></tr><tr><td align="center">.passive</td><td align="center">可用在移动端滚动事件中，限制事件永不调用preventDefault()方法</td></tr></tbody></table><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSubmit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我被提交了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>代码说明：当未指定<code>form</code>表单的<code>action</code>时，表单会被提交到当前的<code>URL</code>，所以可以使用<code>.prevent</code>阻止元素默认行为。</p></blockquote><h2 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a>按键修饰符</h2><table><thead><tr><th align="center">别名修饰符</th><th align="center">键值修饰符</th><th align="center">对应按键</th></tr></thead><tbody><tr><td align="center">.delete</td><td align="center">.8/.46</td><td align="center">回车/删除</td></tr><tr><td align="center">.tab</td><td align="center">.9</td><td align="center">制表</td></tr><tr><td align="center">.enter</td><td align="center">.13</td><td align="center">回车</td></tr><tr><td align="center">.esc</td><td align="center">.27</td><td align="center">退出</td></tr><tr><td align="center">.space</td><td align="center">.32</td><td align="center">空格</td></tr><tr><td align="center">.left</td><td align="center">.37</td><td align="center">左</td></tr><tr><td align="center">.up</td><td align="center">.38</td><td align="center">上</td></tr><tr><td align="center">.right</td><td align="center">.39</td><td align="center">右</td></tr><tr><td align="center">.down</td><td align="center">.40</td><td align="center">下</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【04】Vue基础：v-text和v-html的使用</title>
      <link href="/categories/frontend/a15d25e1.html"/>
      <url>/categories/frontend/a15d25e1.html</url>
      
        <content type="html"><![CDATA[<h2 id="v-text-的使用"><a href="#v-text-的使用" class="headerlink" title="v-text 的使用"></a>v-text 的使用</h2><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            title<span class="token punctuation">:</span> <span class="token string">'v-text'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件，可以看到成功显示出<code>v-text</code>。</p><h2 id="v-html-的使用"><a href="#v-html-的使用" class="headerlink" title="v-html 的使用"></a>v-html 的使用</h2><p>模版写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            title<span class="token punctuation">:</span> <span class="token string">'&lt;h1>v-html&lt;/h1>'</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件，可以看到成功显示出<code>v-html</code>。</p><blockquote><p><strong>注意</strong>：生产环境中动态渲染<code>HTML</code>是非常危险的，容易导致<code>XSS</code>攻击。所以在使用<code>v-html</code>时，不要在用户提交或可操作的网页上使用。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>特殊日子全站网页自动变灰</title>
      <link href="/categories/frontend/8d076785.html"/>
      <url>/categories/frontend/8d076785.html</url>
      
        <content type="html"><![CDATA[<h2 id="依赖js定期自动变灰"><a href="#依赖js定期自动变灰" class="headerlink" title="依赖js定期自动变灰"></a>依赖js定期自动变灰</h2><p>自定义日期可酌情修改。</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"//cdn.staticfile.org/jquery/3.4.1/jquery.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span>    <span class="token keyword">var</span> myDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> mon <span class="token operator">=</span> myDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//获取当前月</span>    <span class="token keyword">var</span> date <span class="token operator">=</span> myDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//获取当前日</span>    <span class="token keyword">var</span> days<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'4.4'</span><span class="token punctuation">,</span><span class="token string">'5.12'</span><span class="token punctuation">,</span><span class="token string">'7.7'</span><span class="token punctuation">,</span><span class="token string">'9.9'</span><span class="token punctuation">,</span><span class="token string">'9.18'</span><span class="token punctuation">,</span><span class="token string">'12.13'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//在这里自定义日期</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> day <span class="token keyword">of</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> d<span class="token operator">=</span>day<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mon <span class="token operator">==</span> d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> date <span class="token operator">==</span> d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> gray<span class="token operator">=</span><span class="token string">'grayscale(100%)'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//自动变灰</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"html,body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"filter"</span><span class="token punctuation">:</span><span class="token string">'gray !important;'</span><span class="token punctuation">,</span><span class="token string">"filter"</span><span class="token punctuation">:</span><span class="token string">"progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)"</span><span class="token punctuation">,</span><span class="token string">"filter"</span><span class="token punctuation">:</span>gray<span class="token punctuation">,</span><span class="token string">"-webkit-filter"</span><span class="token punctuation">:</span>gray<span class="token punctuation">,</span><span class="token string">'-moz-filter'</span><span class="token punctuation">:</span>gray<span class="token punctuation">,</span><span class="token string">'-ms-filter'</span><span class="token punctuation">:</span>gray<span class="token punctuation">,</span><span class="token string">'-o-filter'</span><span class="token punctuation">:</span>gray<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【03】Vue基础：v-for的使用</title>
      <link href="/categories/frontend/fa005713.html"/>
      <url>/categories/frontend/fa005713.html</url>
      
        <content type="html"><![CDATA[<h2 id="v-for的基本用法"><a href="#v-for的基本用法" class="headerlink" title="v-for的基本用法"></a>v-for的基本用法</h2><p><code>v-for</code> 用于实现列表渲染，可以使用<code>item in items</code>或<code>item of items</code>的语法<br>模板写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item in items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>或：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item of items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></code></pre><p>js写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            items<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>在浏览器运行此文件，可以看到成功显示出如下数据：</p><pre class=" language-bash"><code class="language-bash">12345</code></pre><h2 id="v-for-渲染对象的键值对"><a href="#v-for-渲染对象的键值对" class="headerlink" title="v-for 渲染对象的键值对"></a>v-for 渲染对象的键值对</h2><p>键值对是元素的索引值，也就是本例中的对象在数组中所占的下标。<br>模板写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, index) in items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }} --- {{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>或：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, item) of items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }} --- {{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></code></pre><p>其实就是多了一个index。在浏览器运行此文件，可以看到成功显示出如下数据：</p><pre class=" language-bash"><code class="language-bash">1 --- 02 --- 13 --- 24 --- 35 --- 4</code></pre><h2 id="key的说明"><a href="#key的说明" class="headerlink" title="key的说明"></a>key的说明</h2><p>1.就地复用策略：当在进行列表渲染时，Vue会直接对已有的标签进行复用，不会将所有的标签重新删除和创建，只会创建新的元素然后把新的数据渲染进去。<br>2.<code>key</code>属性可以用来提升<code>v-for</code>渲染的效率，Vue不会去改变原有的元素和数据，而是创建新的元素然后把新的数据渲染进去。<br>3.<code>key</code>属性必须是唯一的标识，很多人使用<code>index</code>，不过建议使用数据的<code>id</code>可能会更好。<br>4.是否使用key都不会影响功能的实现，但是在<code>vue2.2.0+</code>版本中，如果不实用<code>key</code>，将会出现警告。</p><h2 id="key的使用"><a href="#key的使用" class="headerlink" title="key的使用"></a>key的使用</h2><p>模板写法：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, index) in items<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }} --- {{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>或：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, item) of items<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ item }} --- {{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></code></pre><p>在浏览器运行此文件，可以看到成功显示出如下数据：</p><pre class=" language-bash"><code class="language-bash">1 --- 02 --- 13 --- 24 --- 35 --- 4</code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【02】Vue基础：v-if和v-show的使用</title>
      <link href="/categories/frontend/6abf4a82.html"/>
      <url>/categories/frontend/6abf4a82.html</url>
      
        <content type="html"><![CDATA[<h2 id="先写一个例子"><a href="#先写一个例子" class="headerlink" title="先写一个例子"></a>先写一个例子</h2><p>创建一个HelloWorld.html文件，开始写入以下代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">            <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">return</span> <span class="token punctuation">{</span>                        title<span class="token punctuation">:</span> <span class="token string">'Hello World'</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>在浏览器运行此文件，可以看到<code>Hello World</code>成功显示出来。</p><h2 id="v-if-v-show-指令"><a href="#v-if-v-show-指令" class="headerlink" title="v-if, v-show 指令"></a>v-if, v-show 指令</h2><h3 id="v-if的使用"><a href="#v-if的使用" class="headerlink" title="v-if的使用"></a>v-if的使用</h3><p>用来判断是否加载html的DOM，<code>v-if</code> 的使用方法并不复杂，只需要挂在元素上即可，与之配套的有 <code>v-else-if</code> 和 <code>v-else</code>，这两个只能个 <code>v-if</code> 配套使用。<br>创建一个v-if.html文件，开始写入以下代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-if<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>isShow 为 true，所以我要显示出来<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>isShow 为 false，所以我要隐藏起来<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">             <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                 el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     <span class="token keyword">return</span> <span class="token punctuation">{</span>                         isShow<span class="token punctuation">:</span> <span class="token boolean">true</span>                     <span class="token punctuation">}</span>                 <span class="token punctuation">}</span>             <span class="token punctuation">}</span><span class="token punctuation">)</span>         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>在浏览器运行此文件，可以看到<code>isShow 为 true，所以我要显示出来</code>。如果将 <code>isShow</code> 的值修改为 <code>false</code>，则显示出<code>isShow 为 false，所以我要隐藏起来</code>。</p><h3 id="v-show的使用"><a href="#v-show的使用" class="headerlink" title="v-show的使用"></a>v-show的使用</h3><p>调整<code>css</code>中<code>display</code>属性，DOM已经加载，只是CSS控制没有显示出来。<br>创建一个v-show.html文件，开始写入以下代码：</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>v-show<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>isShow 为 true，所以我要显示出来<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">             <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                 el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>                 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     <span class="token keyword">return</span> <span class="token punctuation">{</span>                         isShow<span class="token punctuation">:</span> <span class="token boolean">false</span>                     <span class="token punctuation">}</span>                 <span class="token punctuation">}</span>             <span class="token punctuation">}</span><span class="token punctuation">)</span>         </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p> 在浏览器运行此文件，可以看到页面一片空白什么都没有。但是，当打开浏览器调试界面按<code>F12</code>时，可以看到有以下代码出现：</p><pre class=" language-html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>isShow 为 true，所以我要显示出来<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>由此可以看出，其实内容已经加载出来了，只是使用了 <code>css</code> 中的 <code>display: none;</code> 给隐藏了。</p><h2 id="v-if-和-v-show-的区别"><a href="#v-if-和-v-show-的区别" class="headerlink" title="v-if 和 v-show 的区别"></a>v-if 和 v-show 的区别</h2><ul><li><code>v-if</code> 在切换中将组件上的事件监听器和子组件销毁和重建。</li><li><code>v-show</code> 调整了 <code>dispaly</code> 属性，可以使客户端操作更加流畅。</li><li><code>v-show</code> 有更高的初始渲染开销，而 <code>v-if</code> 有更高的切换开销。<br>简单点理解就是：<code>v-if</code>被判定为假时，Vue不会做任何事情，而<code>v-show</code>不管为真假，Vue都会进行DOM渲染。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【01】Vue基础：前期准备</title>
      <link href="/categories/frontend/1db87a14.html"/>
      <url>/categories/frontend/1db87a14.html</url>
      
        <content type="html"><![CDATA[<h2 id="开发工具的选用"><a href="#开发工具的选用" class="headerlink" title="开发工具的选用"></a>开发工具的选用</h2><p>开发工具的选用并没有太多的要求，只要适合自己的就行，我使用的是VSCode。</p><h2 id="安装和引入"><a href="#安装和引入" class="headerlink" title="安装和引入"></a>安装和引入</h2><p>在Vue官网中有两个版本，分别是：</p><ul><li>开发版本：包含完整的警告和调试模式</li><li>生产版本：删除了警告</li></ul><h3 id="1，安装方式一：直接用-lt-script-gt-引入（不推荐）"><a href="#1，安装方式一：直接用-lt-script-gt-引入（不推荐）" class="headerlink" title="1，安装方式一：直接用&lt;script&gt;引入（不推荐）"></a>1，安装方式一：直接用&lt;script&gt;引入（不推荐）</h3><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 最新版本 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 明确的版本号 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h3 id="2，安装方式二：使用npm进行安装（推荐）"><a href="#2，安装方式二：使用npm进行安装（推荐）" class="headerlink" title="2，安装方式二：使用npm进行安装（推荐）"></a>2，安装方式二：使用npm进行安装（推荐）</h3><p>打开cmd命令窗口，输入以下命令：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> vue或：<span class="token function">npm</span> i vue</code></pre><blockquote><p>注：npm是随同NodeJS一起安装的包管理工具，新版的nodejs已经集成了npm，所以不需要另外安装npm，可以通过输入 “npm -v” 进行检测是否安装成功。</p></blockquote><h2 id="安装cnpm"><a href="#安装cnpm" class="headerlink" title="安装cnpm"></a>安装cnpm</h2><p>由于用于npm的仓库源是在国外，资源传输速度较慢而且可能会受到限制，所以建议使用淘宝镜像源cnpm，打开cmd命令窗口，输入以下命令：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g cnpm -registry<span class="token operator">=</span>https://registry.npm.taobao.org</code></pre><p>执行完后，可输入以下命令进行检测cnpm是否安装成功：</p><pre class=" language-bash"><code class="language-bash">cnpm -v</code></pre><p>使用cnpm安装vue：</p><pre class=" language-bash"><code class="language-bash">cnpm <span class="token function">install</span> vue或：cnpm i vue</code></pre><p>执行完后，可输入以下命令进行检测Vue是否安装成功：</p><pre class=" language-bash"><code class="language-bash">vue -V</code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode初次写vue项目并一键生成.vue模版</title>
      <link href="/categories/tool/83dcefb7.html"/>
      <url>/categories/tool/83dcefb7.html</url>
      
        <content type="html"><![CDATA[<h2 id="安装vscode"><a href="#安装vscode" class="headerlink" title="安装vscode"></a>安装vscode</h2><p>官网地址：<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">https://code.visualstudio.com/</a></p><h2 id="安装插件，识别vue文件"><a href="#安装插件，识别vue文件" class="headerlink" title="安装插件，识别vue文件"></a>安装插件，识别vue文件</h2><p>插件库中搜索<code>Vetur</code>，点击安装，安装完成之后点击重新加载。</p><h2 id="新建代码片段"><a href="#新建代码片段" class="headerlink" title="新建代码片段"></a>新建代码片段</h2><p>文件–&gt;首选项–&gt;用户代码片段<br>然后再弹出的输入框中输入<code>vue</code>，然后回车(Enter)。<br>在<code>vue.json</code>中写上代码片段,代码如下：</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"Print to console"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"vue"</span><span class="token punctuation">,</span>        <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            <span class="token string">"&lt;!-- $1 -->"</span><span class="token punctuation">,</span>            <span class="token string">"&lt;template>"</span><span class="token punctuation">,</span>            <span class="token string">"   &lt;div class=\"$2\">$5&lt;/div>"</span><span class="token punctuation">,</span>            <span class="token string">"&lt;/template>"</span><span class="token punctuation">,</span>            <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token string">"&lt;script>"</span><span class="token punctuation">,</span>            <span class="token string">"//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）"</span><span class="token punctuation">,</span>            <span class="token string">"//例如：import 《组件名称》 from '《组件路径》';"</span><span class="token punctuation">,</span>            <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token string">"export default {"</span><span class="token punctuation">,</span>            <span class="token string">"   //import引入的组件需要注入到对象中才能使用"</span><span class="token punctuation">,</span>            <span class="token string">"   components: {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   data() {"</span><span class="token punctuation">,</span>            <span class="token string">"       //这里存放数据"</span><span class="token punctuation">,</span>            <span class="token string">"       return {"</span><span class="token punctuation">,</span>            <span class="token string">"           "</span><span class="token punctuation">,</span>            <span class="token string">"       };"</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //监听属性 类似于data概念"</span><span class="token punctuation">,</span>            <span class="token string">"   computed: {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //监控data中的数据变化"</span><span class="token punctuation">,</span>            <span class="token string">"   watch: {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //方法集合"</span><span class="token punctuation">,</span>            <span class="token string">"   methods: {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 创建完成（可以访问当前this实例）"</span><span class="token punctuation">,</span>            <span class="token string">"   created() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 挂载完成（可以访问DOM元素）"</span><span class="token punctuation">,</span>            <span class="token string">"   mounted() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 创建之前"</span><span class="token punctuation">,</span>            <span class="token string">"   beforeCreate() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 挂载之前"</span><span class="token punctuation">,</span>            <span class="token string">"   beforeMount() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 更新之前"</span><span class="token punctuation">,</span>            <span class="token string">"   beforeUpdate() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 更新之后"</span><span class="token punctuation">,</span>            <span class="token string">"   updated() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 销毁之前"</span><span class="token punctuation">,</span>            <span class="token string">"   beforeDestroy() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //生命周期 - 销毁完成"</span><span class="token punctuation">,</span>            <span class="token string">"   destroyed() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"   //如果页面有keep-alive缓存功能，这个函数会触发"</span><span class="token punctuation">,</span>            <span class="token string">"   activated() {"</span><span class="token punctuation">,</span>            <span class="token string">"       "</span><span class="token punctuation">,</span>            <span class="token string">"   },"</span><span class="token punctuation">,</span>            <span class="token string">"}"</span><span class="token punctuation">,</span>            <span class="token string">"&lt;/script>"</span><span class="token punctuation">,</span>            <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token string">"&lt;style lang='scss' scoped>"</span><span class="token punctuation">,</span>            <span class="token string">"//@import url($3); 引入公共css类"</span><span class="token punctuation">,</span>            <span class="token string">"$4"</span><span class="token punctuation">,</span>            <span class="token string">"&lt;/style>"</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Log output to console"</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>上面代码中的 <code>&quot;prefix&quot;: &quot;vue&quot;</code>, 就是快捷键；保存好之后，新建.vue结尾的文件，输入 <code>vue</code> 按键盘的 <code>tab</code> 就行。</p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序中使用阿里图标库iconfont</title>
      <link href="/categories/frontend/84b12bae.html"/>
      <url>/categories/frontend/84b12bae.html</url>
      
        <content type="html"><![CDATA[<h2 id="第一步：下载需要的字体图标"><a href="#第一步：下载需要的字体图标" class="headerlink" title="第一步：下载需要的字体图标"></a>第一步：下载需要的字体图标</h2><p>进入阿里图标官网<a href="http://iconfont.cn/" target="_blank" rel="noopener">http://iconfont.cn/</a>搜索自己想要的图标，点击下载至本地<br><img src="/files/images/2020081201.png" alt=""><br>将得到名为download.zip的压缩包，解压将看到以下内容：<br><img src="/files/images/2020081202.png" alt=""></p><h2 id="第二步：转换ttf文件"><a href="#第二步：转换ttf文件" class="headerlink" title="第二步：转换ttf文件"></a>第二步：转换ttf文件</h2><p>进入<a href="https://transfonter.org/" target="_blank" rel="noopener">https://transfonter.org/</a>平台，将解压出来的ttf字体文件转化成base64格式。流程如下：<br><img src="/files/images/2020081203.png" alt=""><br><img src="/files/images/2020081204.png" alt=""><br>点击下载，得到转换后的压缩包，名为transfonter.org-开头。解压可以得到如下图的几个文件：<br><img src="/files/images/2020081205.png" alt=""></p><h2 id="第三步：在微信小程序中使用"><a href="#第三步：在微信小程序中使用" class="headerlink" title="第三步：在微信小程序中使用"></a>第三步：在微信小程序中使用</h2><p>新建微信小程序，将默认生成的代码删除。<br>1–在index.css文件中添加样式内容。打开刚刚我们经过转换的解压出来的文件，找到stylesheet.css，将其中的内容全部复制到index.css文件中。注意是转换过的那个文件。<br><img src="/files/images/2020081206.png" alt=""><br>2–打开没有转换过的download.zip解压出来的文件，找到iconfont.css文件，将这个文件中的内容复制到index.css文件中。@font-face这部分不要。<br><img src="/files/images/2020081207.png" alt=""><br>3–在index.wxml中使用字体图标。代码如下：</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--index.wxml--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    个人中心    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>iconfont iconcount<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">50</span>px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span></code></pre><p>字体图标跟字体一样，可以通过font-size来改变大小，通过指定color来改变他的颜色。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS + JS 网站变灰（变黑白）</title>
      <link href="/categories/frontend/f3b61b38.html"/>
      <url>/categories/frontend/f3b61b38.html</url>
      
        <content type="html"><![CDATA[<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 特殊日子 全站灰色 */</span><span class="token selector"><span class="token class">.site-gray</span>, <span class="token class">.site-gray</span> *</span><span class="token punctuation">{</span>    <span class="token property">filter</span><span class="token punctuation">:</span> gray <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token property">progid</span><span class="token punctuation">:</span>DXImageTransform<span class="token number">.</span>Microsoft<span class="token number">.</span><span class="token function">BasicImage</span><span class="token punctuation">(</span>grayscale=<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span><span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span><span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-moz-filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span><span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-ms-filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span><span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-o-filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span><span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><h2 id="HTML及JS"><a href="#HTML及JS" class="headerlink" title="HTML及JS"></a>HTML及JS</h2><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript:;<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>site-gray<span class="token punctuation">"</span></span> <span class="token attr-name">data-gray</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>网站变灰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 特殊日子IE10及其以上浏览器 全站灰色 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grayscale.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">var</span> navStr <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".site-gray"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">var</span> gray <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-gray"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span> gray <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>navStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"msie 10.0"</span><span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">||</span>navStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"rv:11.0"</span><span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 判断是IE10或者IE11</span>                <span class="token function">grayscale</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">grayscale</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"site-gray"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-gray"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>navStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"msie 10.0"</span><span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">||</span>navStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"rv:11.0"</span><span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 判断是IE10或者IE11</span>                grayscale<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>                grayscale<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"site-gray"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-gray"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><h2 id="相关文件"><a href="#相关文件" class="headerlink" title="相关文件"></a>相关文件</h2><p><a href="/download/grayscale.js"">grayscale.js</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS规范</title>
      <link href="/categories/frontend/83dcefb7.html"/>
      <url>/categories/frontend/83dcefb7.html</url>
      
        <content type="html"><![CDATA[<h2 id="分类方法"><a href="#分类方法" class="headerlink" title="分类方法"></a>分类方法</h2><h3 id="CSS文件的分类和引用顺序"><a href="#CSS文件的分类和引用顺序" class="headerlink" title="CSS文件的分类和引用顺序"></a>CSS文件的分类和引用顺序</h3><p>通常，一个项目我们只引用一个<code>CSS</code>，但是对于较大的项目，我们需要把<code>CSS</code>文件进行分类。<br>我们按照<code>CSS</code>的性质和用途，将<code>CSS</code>文件分成“公共型样式”、“特殊型样式”、“皮肤型样式”，并以此顺序引用（按需求决定是否添加版本号）。<br>1.公共型样式：包括了以下几个部分：“标签的重置和设置默认值”、“统一调用背景图和清除浮动或其他需统一处理的长样式”、“网站通用布局”、“通用模块和其扩展”、“元件和其扩展”、“功能类样式”、“皮肤类样式”。<br>2.特殊型样式：当某个栏目或页面的样式与网站整体差异较大或者维护率较高时，可以独立引用一个样式：“特殊的布局、模块和元件及扩展”、“特殊的功能、颜色和背景”，也可以是某个大型控件或模块的独立样式。<br>3.皮肤型样式：如果产品需要换肤功能，那么我们需要将颜色、背景等抽离出来放在这里。</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>assets/css/public.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>assets/css/home.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>assets/css/skin.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><a id="more"></a><h3 id="CSS内部的分类及其顺序"><a href="#CSS内部的分类及其顺序" class="headerlink" title="CSS内部的分类及其顺序"></a>CSS内部的分类及其顺序</h3><p>1.重置（<code>reset</code>）和默认（<code>base</code>）（<code>tags</code>）：消除默认样式和浏览器差异，并设置部分标签的初始样式，以减少后面的重复劳动，你可以根据你的网站需求设置。<br>2.统一处理：建议在这个位置统一调用背景图（这里指多个布局或模块或元件共用的图）和清除浮动（这里指通用性较高的布局、模块、元件内的清除）等统一设置处理的样式。<br>3.布局（<code>grid</code>）（<code>.g-</code>）：将页面分割为几个大块，通常有头部、主体、主栏、侧栏、尾部等。<br>4.模块（<code>module</code>）（<code>.m-</code>）：通常是一个语义化的可以重复使用的较大的整体，比如导航、登录、注册、各种列表、评论、搜索等。<br>5.元件（<code>unit</code>）（<code>.u-</code>）：通常是一个不可再分的较为小巧的个体，通常被重复用于各种模块中，比如按钮、输入框、loading、图标等。<br>6.功能（<code>function</code>）（<code>.f-</code>）：为方便一些常用样式的使用，我们将这些使用率较高的样式剥离出来，按需使用，通常这些选择器具有固定样式表现，比如清除浮动等，不可滥用。<br>7.皮肤（<code>skin</code>）（<code>.s-</code>）：如果你需要把皮肤型的样式抽离出来，通常为文字色、背景色（图）、边框色等，非换肤型网站通常只提取文字色，非换肤型网站不可滥用此类。<br>8.状态（<code>.z-</code>）：为状态类样式加入前缀，统一标识，方便识别，她只能组合使用或作为后代出现（<code>.u-ipt.z-dis{}，.m-list li.z-sel{}</code>），具体详见命名规则的扩展相关项。<br>功能类和皮肤类样式为表现化的样式，请不要滥用。以上顺序可以按需求适当调整。</p><h2 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h2><h3 id="使用类选择器，放弃ID选择器"><a href="#使用类选择器，放弃ID选择器" class="headerlink" title="使用类选择器，放弃ID选择器"></a>使用类选择器，放弃ID选择器</h3><p><code>ID</code>在一个页面中的唯一性导致了如果以<code>ID</code>为选择器来写<code>CSS</code>，就无法重用。</p><h3 id="NEC特殊字符：”-“连字符"><a href="#NEC特殊字符：”-“连字符" class="headerlink" title="NEC特殊字符：”-“连字符"></a>NEC特殊字符：”-“连字符</h3><p>“<code>-</code>“在本规范中并不表示连字符的含义。<br>她只表示两种含义：分类前缀分隔符、扩展分隔符，详见以下具体规则。</p><h3 id="分类的命名方法：使用单个字母-”-“为前缀"><a href="#分类的命名方法：使用单个字母-”-“为前缀" class="headerlink" title="分类的命名方法：使用单个字母+”-“为前缀"></a>分类的命名方法：使用单个字母+”-“为前缀</h3><p>布局（<code>grid</code>）（<code>.g-</code>）；模块（<code>module</code>）（<code>.m-</code>）；元件（<code>unit</code>）（<code>.u-</code>）；功能（<code>function</code>）（<code>.f-</code>）；皮肤（<code>skin</code>）（<code>.s-</code>）；状态（<code>.z-</code>）。</p><blockquote><ul><li>在你样式中的选择器总是要以上面前五类开头，然后在里面使用后代选择器。</li><li>如果这五类不能满足你的需求，你可以另外定义一个或多个大类，但必须符合单个字母加”<code>-</code>“为前缀的命名规则，即 <code>.x-</code> 的格式。</li><li>特殊：<code>.j-</code>将被专用于<code>JS</code>获取节点，请勿使用<code>.j-</code>定义样式。</li></ul></blockquote><h3 id="后代选择器命名"><a href="#后代选择器命名" class="headerlink" title="后代选择器命名"></a>后代选择器命名</h3><ul><li>约定<strong>不以单个字母加”<code>-</code>“为前缀</strong>且长度大于等于2的类选择器为后代选择器，如：<code>.item</code>为<code>m-list</code>模块里的每一个项，<code>.text</code>为<code>m-list</code>模块里的文本部分：<code>.m-list .item{}.m-list .text{}</code>。</li><li>一个语义化的标签也可以是后代选择器，比如：<code>.m-list li{}</code>。</li><li><strong>不允许单个字母的类选择器</strong>出现，原因详见下面的“模块和元件的后代选择器的扩展类”。<br>通过使用后代选择器的方法，你不需要考虑他的命名是否已被使用，因为他只在当前模块或元件中生效，<strong>同样的样式名可以在不同的模块或元件中重复使用</strong>，互不干扰；在多人协作或者分模块协作的时候效果尤为明显！<br>后代选择器不需要完整表现结构树层级，<strong>尽量能短则短</strong>。</li></ul><blockquote><p>后代选择器<strong>不要在页面布局中使用</strong>，因为污染的可能性较大；</p></blockquote><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 这里的.itm和.cnt只在.m-list中有效 */</span><span class="token selector"><span class="token class">.m-list</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-list</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">1</span>px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">1</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-list</span> <span class="token class">.cnt</span></span><span class="token punctuation">{</span><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 这里的.cnt和.num只在.m-page中有效 */</span><span class="token selector"><span class="token class">.m-page</span></span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-page</span> <span class="token class">.cnt</span></span><span class="token punctuation">{</span><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-page</span> <span class="token class">.num</span></span><span class="token punctuation">{</span><span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#ddd</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="命名应简约而不失语义"><a href="#命名应简约而不失语义" class="headerlink" title="命名应简约而不失语义"></a>命名应简约而不失语义</h3><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 反对：表现化的或没有语义的命名 */</span><span class="token selector"><span class="token class">.m-abc</span> <span class="token class">.green2</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.g-left2</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 推荐：使用有语义的简短的命名 */</span><span class="token selector"><span class="token class">.m-list</span> <span class="token class">.wrap2</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.g-side2</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h3 id="相同语义的不同类命名"><a href="#相同语义的不同类命名" class="headerlink" title="相同语义的不同类命名"></a>相同语义的不同类命名</h3><p>方法：直接加数字或字母区分即可（如：<code>.m-list</code>、<code>.m-list2</code>、<code>.m-list3</code>等，都是列表模块，但是是完全不一样的模块）。<br>其他举例：<code>.f-fw0</code>、<code>.f-fw1</code>、<code>.s-fc0</code>、<code>.s-fc1</code>、<code>.m-logo2</code>、<code>.m-logo3</code>、<code>u-btn</code>、<code>u-btn2</code>等等。</p><h3 id="模块和元件的扩展类的命名方法"><a href="#模块和元件的扩展类的命名方法" class="headerlink" title="模块和元件的扩展类的命名方法"></a>模块和元件的扩展类的命名方法</h3><p>当A、B、C、…它们类型相同且外形相似区别不大，那么就以它们中出现率最高的做成基类，其他做成基类的扩展。<br>方法：+“<code>-</code>”+数字或字母（如：<code>.m-list</code>的扩展类为<code>.m-list-1</code>、<code>.m-list-2</code>等）。<br>补充：基类自身可以独立使用（如：<code>class=&quot;m-list&quot;</code>即可），扩展类必须基于基类使用（如：<code>class=&quot;m-list m-list-2&quot;</code>）。<br>如果你的扩展类是表示不同状态，那么你可以这样命名：<code>u-btn-dis</code>，<code>u-btn-hov</code>，<code>m-box-sel</code>，<code>m-box-hov</code>等等，然后像这样使用：<code>class=&quot;u-btn u-btn-dis&quot;</code>。<br>如果你的网站可以不兼容<code>IE6</code>等浏览器，那么你标识状态的方法也可以采取独立状态分类（<code>.z-</code>）方法：<code>.u-btn.z-dis，.m-box.z-sel</code>，然后像这样使用：<code>class=&quot;u-btn z-dis&quot;</code>。</p><h3 id="模块和元件的后代选择器的扩展类"><a href="#模块和元件的后代选择器的扩展类" class="headerlink" title="模块和元件的后代选择器的扩展类"></a>模块和元件的后代选择器的扩展类</h3><p>有时候模块内会有些类似的东西，如果你没有把它们做成元件和扩展，那么也可以使用后代选择器和扩展。</p><p>后代选择器：<code>.m-login .btn{}</code>。<br>后代选择器扩展：<code>.m-login .btn-1{}</code>，<code>.m-login .btn-dis{}</code>。<br>同样也可以采取独立状态分类（<code>.z-</code>）方法：<code>.m-login .btn.z-dis{}</code>，然后像这样使用：<code>class=&quot;btn z-dis&quot;</code>。</p><blockquote><p>注：此方法用于类选择器，直接使用标签做为选择器的则不需要使用此命名方法。<br>注：为防止后代选择器的扩展类和大类命名规范冲突，后代选择器不允许使用单个字母。<br>比如：<code>.m-list .a{}</code>是不允许的，因为当这个<code>.a</code>需要扩展的时候就会变成<code>.a-bb</code>，这样就和大类的命名规范冲突。</p></blockquote><h3 id="分组选择器有时可以代替扩展方法"><a href="#分组选择器有时可以代替扩展方法" class="headerlink" title="分组选择器有时可以代替扩展方法"></a>分组选择器有时可以代替扩展方法</h3><p>有时候虽然两个同类型的模块很相似，但是你希望他们之间不要有依赖关系，也就是说你不希望使用扩展的方法，那么你可以通过合并选择器来设置共性的样式。<br>使用本方法的前提是：相同类型、功能和外观都相似，写在同一片代码区域方便维护。</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 两个元件共性的样式 */</span><span class="token selector"><span class="token class">.u-tip1</span>,<span class="token class">.u-tip2</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.u-tip1</span> <span class="token class">.itm</span>,<span class="token class">.u-tip2</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 在分别是两个元件各自的样式 */</span><span class="token comment" spellcheck="true">/* tip1 */</span><span class="token selector"><span class="token class">.u-tip1</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.u-tip1</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* tip2 */</span><span class="token selector"><span class="token class">.u-tip2</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.u-tip2</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h3 id="防止污染和被污染"><a href="#防止污染和被污染" class="headerlink" title="防止污染和被污染"></a>防止污染和被污染</h3><p>当模块或元件之间互相嵌套，且使用了相同的标签选择器或其他后代选择器，那么里面的选择器就会被外面相同的选择器所影响。<br>所以，如果你的模块或元件可能嵌套或被嵌套于其他模块或元件，那么要慎用标签选择器，必要时采用类选择器，并注意命名方式，可以采用<code>.m-layer .layerxxx</code>、<code>.m-list2 .list2xxx</code>的形式来降低后代选择器的污染性。</p><h2 id="代码格式"><a href="#代码格式" class="headerlink" title="代码格式"></a>代码格式</h2><h3 id="选择器、属性和值都使用小写"><a href="#选择器、属性和值都使用小写" class="headerlink" title="选择器、属性和值都使用小写"></a>选择器、属性和值都使用小写</h3><p>在<code>xhtml</code>标准中规定了所有标签、属性和值都小写，<code>CSS</code>也是如此。</p><h3 id="单行写完一个选择器定义"><a href="#单行写完一个选择器定义" class="headerlink" title="单行写完一个选择器定义"></a>单行写完一个选择器定义</h3><p>便于选择器的寻找和阅读，也便于插入新选择器和编辑，便于模块等的识别。去除多余空格，使代码紧凑减少换行。<br>如果有嵌套定义，可以采取内部单行的形式。</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 单行定义一个选择器 */</span><span class="token selector"><span class="token class">.m-list</span> li,<span class="token class">.m-list</span> h3</span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span> <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#ddd</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 这是一个有嵌套定义的选择器 */</span><span class="token atrule"><span class="token rule">@media</span> all and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>    <span class="token selector"><span class="token class">.m-class1</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">17</span>px<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">17</span>px<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">12</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.m-class2</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> showitm</span><span class="token punctuation">{</span>    <span class="token selector">0%</span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector">100%</span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span> <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="最后一个值也以分号结尾"><a href="#最后一个值也以分号结尾" class="headerlink" title="最后一个值也以分号结尾"></a>最后一个值也以分号结尾</h3><p>通常在大括号结束前的值可以省略分号，但是这样做会对修改、添加和维护工作带来不必要的失误和麻烦。</p><h3 id="省略值为0时的单位"><a href="#省略值为0时的单位" class="headerlink" title="省略值为0时的单位"></a>省略值为0时的单位</h3><p>为节省不必要的字节同时也使阅读方便，我们将<code>0px</code>、<code>0em</code>、<code>0%</code>等值缩写为<code>0</code>。</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.m-box</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">10</span>px<span class="token punctuation">;</span> <span class="token property">background-position</span><span class="token punctuation">:</span> <span class="token number">50%</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="使用单引号"><a href="#使用单引号" class="headerlink" title="使用单引号"></a>使用单引号</h3><p>省略<code>url</code>引用中的引号，其他需要引号的地方使用单引号。</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.m-box</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url(bg.png)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-box</span><span class="token pseudo-element">:after</span></span><span class="token punctuation">{</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="使用16进制表示颜色值"><a href="#使用16进制表示颜色值" class="headerlink" title="使用16进制表示颜色值"></a>使用16进制表示颜色值</h3><p>除非你需要透明度而使用<code>rgba</code>，否则都使用<code>#f0f0f0</code>这样的表示方法，并尽量缩写。</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.m-box</span></span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#f00</span><span class="token punctuation">;</span> <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="根据属性的重要性按顺序书写"><a href="#根据属性的重要性按顺序书写" class="headerlink" title="根据属性的重要性按顺序书写"></a>根据属性的重要性按顺序书写</h3><p>只遵循横向顺序即可，先显示定位布局类属性，后盒模型等自身属性，最后是文本类及修饰类属性。</p><table><thead><tr><th align="center">显示属性</th><th align="center">自身属性</th><th align="center">文本属性和其他修饰</th></tr></thead><tbody><tr><td align="center">display</td><td align="center">width</td><td align="center">font</td></tr><tr><td align="center">visibility</td><td align="center">height</td><td align="center">text-align</td></tr><tr><td align="center">position</td><td align="center">margin</td><td align="center">text-decoration</td></tr><tr><td align="center">float</td><td align="center">padding</td><td align="center">vertical-align</td></tr><tr><td align="center">clear</td><td align="center">border</td><td align="center">white-space</td></tr><tr><td align="center">list-style</td><td align="center">overflow</td><td align="center">color</td></tr><tr><td align="center">top</td><td align="center">min-width</td><td align="center">background</td></tr></tbody></table><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.m-box</span></span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">600</span>px<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto <span class="token number">10</span>px<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>如果属性间存在关联性，则不要隔开写。</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 这里的height和line-height有关联性 */</span><span class="token selector"><span class="token class">.m-box</span></span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="私有在前，标准在后"><a href="#私有在前，标准在后" class="headerlink" title="私有在前，标准在后"></a>私有在前，标准在后</h3><p>先写带有浏览器私有标志的，后写<code>W3C</code>标准的。</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.m-box</span></span><span class="token punctuation">{</span><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span> <span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span> <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="注释格式"><a href="#注释格式" class="headerlink" title="注释格式"></a>注释格式</h3><p>对选择器的注释统一写在被注释对象的上一行，对属性及值的注释写于分号后。<br>注释内容两端需空格，已确保即使在编码错误的情况下也可以正确解析样式。<br>在必要的情况下，可以使用块状注释，块状注释保持统一的缩进对齐。<br>原则上每个系列的样式都需要有一个注释，言简意赅的表明名称、用途、注意事项等。</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 块状注释文字 * 块状注释文字 * 块状注释文字 */</span><span class="token selector"><span class="token class">.m-list</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-list</span> li</span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/* 这里是对line-height的一个注释 */</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-list</span> li a</span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#333</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 单行注释文字 */</span><span class="token selector"><span class="token class">.m-list</span> li em</span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#666</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="原则上不允许使用Hack"><a href="#原则上不允许使用Hack" class="headerlink" title="原则上不允许使用Hack"></a>原则上不允许使用Hack</h3><p>很多不兼容问题可以通过改变方法和思路来解决，并非一定需要<code>Hack</code>，根据经验你完全可以绕过某些兼容问题。<br>一种合理的结构和合理的样式，是极少会碰到兼容问题的。<br>由于浏览器自身缺陷，我们无法避开的时候，可以允许使用适当的<code>Hack</code>。</p><h3 id="统一Hack方法"><a href="#统一Hack方法" class="headerlink" title="统一Hack方法"></a>统一Hack方法</h3><p>统一使用“<code>*</code>”和“<code>_</code>”分别对IE7和6进行<code>Hack</code>。如下代码所示：</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* IE7会显示灰色#888，IE6会显示白色#fff，其他浏览器显示黑色#000 */</span><span class="token selector"><span class="token class">.m-list</span></span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span> *<span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#888</span><span class="token punctuation">;</span> <span class="token property">_color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="建议并适当缩写值"><a href="#建议并适当缩写值" class="headerlink" title="建议并适当缩写值"></a>建议并适当缩写值</h3><p>“建议并适当”是因为缩写总是会包含一系列的值，而有时候我们并不希望设置某一值，反而造成了麻烦，那么这时候你可以不缩写，而是分开写。<br>当然，在一切可以缩写的情况下，请务必缩写，它最大的好处就是节省了字节，便于维护，并使阅读更加一目了然。</p><h3 id="选择器顺序"><a href="#选择器顺序" class="headerlink" title="选择器顺序"></a>选择器顺序</h3><p>请综合考虑以下顺序依据：</p><ul><li>从大到小（以选择器的范围为准）</li><li>从低到高（以等级上的高低为准）</li><li>从先到后（以结构上的先后为准）</li><li>从父到子（以结构上的嵌套为准）</li></ul><p>以下仅为简单示范：</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 从大到小 */</span><span class="token selector"><span class="token class">.m-list</span> p</span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-list</span> p<span class="token class">.part</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">1</span>px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">1</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 从低到高 */</span><span class="token selector"><span class="token class">.m-logo</span> a</span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#f00</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-logo</span> a<span class="token pseudo-class">:hover</span></span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 从先到后 */</span><span class="token selector"><span class="token class">.g-hd</span></span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.g-bd</span></span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.g-ft</span></span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* 从父到子 */</span><span class="token selector"><span class="token class">.m-list</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.m-list</span> <span class="token class">.itm</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="选择器等级"><a href="#选择器等级" class="headerlink" title="选择器等级"></a>选择器等级</h3><p>a = 行内样式style。<br>b = ID选择器的数量。<br>c = 类、伪类和属性选择器的数量。<br>d = 类型选择器和伪元素选择器的数量。</p><table><thead><tr><th align="center">选择器</th><th align="center">等级(a,b,c,d)</th></tr></thead><tbody><tr><td align="center">style=””</td><td align="center">1,0,0,0</td></tr><tr><td align="center">#wrapper #content {}</td><td align="center">0,2,0,0</td></tr><tr><td align="center">#content .dateposted {}</td><td align="center">0,1,1,0</td></tr><tr><td align="center">div#content {}</td><td align="center">0,1,0,1</td></tr><tr><td align="center">#content p {}</td><td align="center">0,1,0,1</td></tr><tr><td align="center">#content {}</td><td align="center">0,1,0,0</td></tr><tr><td align="center">p.comment .dateposted {}</td><td align="center">0,0,2,1</td></tr><tr><td align="center">div.comment p {}</td><td align="center">0,0,1,2</td></tr><tr><td align="center">.comment p {}</td><td align="center">0,0,1,1</td></tr><tr><td align="center">p.comment {}</td><td align="center">0,0,1,1</td></tr><tr><td align="center">.comment {}</td><td align="center">0,0,1,0</td></tr><tr><td align="center">div p {}</td><td align="center">0,0,0,2</td></tr><tr><td align="center">p {}</td><td align="center">0,0,0,1</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bootstrap3网格系统兼容IE7</title>
      <link href="/categories/frontend/6dd28e9b.html"/>
      <url>/categories/frontend/6dd28e9b.html</url>
      
        <content type="html"><![CDATA[<h2 id="HTML基本结构"><a href="#HTML基本结构" class="headerlink" title="HTML基本结构"></a>HTML基本结构</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zh-cn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ie<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>image/x-icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>favicon.ico<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/lib/bootstrap/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/css/style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!--[if lte IE 7]>        &lt;link rel="stylesheet" href="/css/despiseIE.css">    &lt;![endif]--></span>    <span class="token comment" spellcheck="true">&lt;!--[if lt IE 9]>        &lt;script src="/js/html5shiv.js">&lt;/script>        &lt;script src="/js/respond.min.js">&lt;/script>    &lt;![endif]--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row f-mlrf10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-wd100<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-11 col-sm-11 col-md-1 col-lg-1 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        111                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-3 col-lg-3 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        222                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-3 col-lg-3 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        333                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-3 col-lg-3 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        444                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-2 col-lg-2 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        555                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-3 col-md-3 col-lg-2 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        666                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-1 col-lg-1 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        777                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-1 col-lg-1 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        888                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-1 col-lg-1 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        999                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-1 col-lg-1 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        10                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-1 col-lg-1 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        11                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-xs-1 col-sm-1 col-md-1 col-lg-1 col-lg-push-2 f-npd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f-mlr10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        12                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/js/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/lib/bootstrap/js/bootstrap.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="CSS基本结构"><a href="#CSS基本结构" class="headerlink" title="CSS基本结构"></a>CSS基本结构</h2><h3 id="style-css"><a href="#style-css" class="headerlink" title="style.css"></a>style.css</h3><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/*reset*/</span><span class="token selector">*</span><span class="token punctuation">{</span><span class="token property">touch-action</span><span class="token punctuation">:</span> pan-y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">html,body,h1,h2,h3,h4,h5,h6,div,dl,dt,dd,ul,ol,li,p,blockquote,pre,hr,figure,table,caption,th,td,form,fieldset,legend,input,button,textarea,menu</span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">header,footer,section,article,aside,nav,hgroup,address,figure,figcaption,menu,details</span><span class="token punctuation">{</span><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">html</span><span class="token punctuation">{</span><span class="token property">overflow-y</span><span class="token punctuation">:</span> scroll<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token pseudo-class">:root</span></span><span class="token punctuation">{</span><span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">table</span><span class="token punctuation">{</span><span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span> <span class="token property">border-spacing</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">caption,th</span><span class="token punctuation">{</span><span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">html,body,fieldset,iframe,abbr</span><span class="token punctuation">{</span><span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">i,cite,em,var,address,dfn</span><span class="token punctuation">{</span><span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token attribute">[hidefocus]</span>,summary</span><span class="token punctuation">{</span><span class="token property">outline</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">ul,ol,ul li,li,ol li</span><span class="token punctuation">{</span><span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">h1,h2,h3,h4,h5,h6,small</span><span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">sup,sub</span><span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">83%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">pre,code,kbd,samp</span><span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">q<span class="token pseudo-element">:before</span>,q<span class="token pseudo-element">:after</span></span><span class="token punctuation">{</span><span class="token property">content</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">textarea</span><span class="token punctuation">{</span><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">resize</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">label,summary</span><span class="token punctuation">{</span><span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">a,button</span><span class="token punctuation">{</span><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">h1,h2,h3,h4,h5,h6,em,strong,b</span><span class="token punctuation">{</span><span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">ins,u,s,a,a<span class="token pseudo-class">:hover</span></span><span class="token punctuation">{</span><span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">body,textarea,input,button,select,keygen,legend</span><span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"微软雅黑"</span><span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">16</span>px<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#454545</span><span class="token punctuation">;</span> <span class="token property">outline</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">a</span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#3d3d3d</span><span class="token punctuation">;</span> <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">hide-focus</span><span class="token punctuation">:</span> <span class="token function">expression</span><span class="token punctuation">(</span>this<span class="token number">.</span>hideFocus=true<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">a<span class="token pseudo-class">:hover</span></span><span class="token punctuation">{</span><span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#cd0000</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">a<span class="token pseudo-class">:focus</span></span><span class="token punctuation">{</span><span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">outline</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">-moz-outline-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">img</span><span class="token punctuation">{</span><span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0</span> none<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token entity" title="\9">\9</span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">vertical-align</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span> <span class="token property">-ms-interpolation-mode</span><span class="token punctuation">:</span> bicubic<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">button,input,select,textarea</span><span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span> <span class="token property">font-family</span><span class="token punctuation">:</span> tahoma<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">outline</span><span class="token punctuation">:</span> <span class="token number">0</span> none<span class="token punctuation">;</span> <span class="token property">vertical-align</span><span class="token punctuation">:</span> baseline<span class="token punctuation">;</span> <span class="token property">_overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span> *<span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span> *<span class="token property">overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*function*/</span><span class="token selector"><span class="token class">.f-dn</span></span><span class="token punctuation">{</span><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-db</span></span><span class="token punctuation">{</span><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-fl</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-fr</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-pr</span></span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-pa</span></span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-pf</span></span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-oh</span></span><span class="token punctuation">{</span><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-fwn</span></span><span class="token punctuation">{</span><span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-fwb</span></span><span class="token punctuation">{</span><span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-toe</span></span><span class="token punctuation">{</span><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token property">word-wrap</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span> <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span> <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-csp</span></span><span class="token punctuation">{</span><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-csd</span></span><span class="token punctuation">{</span><span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-csh</span></span><span class="token punctuation">{</span><span class="token property">cursor</span><span class="token punctuation">:</span> help<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-csm</span></span><span class="token punctuation">{</span><span class="token property">cursor</span><span class="token punctuation">:</span> move<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-usn</span></span><span class="token punctuation">{</span><span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">-o-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-clear</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"."</span><span class="token punctuation">;</span> <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-clearfix</span><span class="token pseudo-element">:after</span></span><span class="token punctuation">{</span><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">" "</span><span class="token punctuation">;</span> <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">* html <span class="token class">.f-clearfix</span></span><span class="token punctuation">{</span><span class="token property">zoom</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">*<span class="token pseudo-class">:first-child</span>+html <span class="token class">.f-clearfix</span></span><span class="token punctuation">{</span><span class="token property">zoom</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-wd100</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-npd</span></span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlr5</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">5</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlr10</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">10</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlr15</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">15</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlr20</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlrf5</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> -<span class="token number">5</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlrf10</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> -<span class="token number">10</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlrf15</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> -<span class="token number">15</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-mlrf20</span></span><span class="token punctuation">{</span><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> -<span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-plr5</span></span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">5</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-plr10</span></span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">10</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-plr15</span></span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">15</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.f-plr20</span></span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*media query*/</span><span class="token comment" spellcheck="true">/*big pcScreen*/</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span>1280px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>    <span class="token selector"><span class="token class">.container</span></span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">1280</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*large pcScreen*/</span><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span>1279px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*medium pcScreen*/</span><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 1199px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*pad*/</span><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 991px <span class="token punctuation">)</span></span><span class="token punctuation">{</span>    <span class="token selector"><span class="token class">.f-md-mb10</span></span><span class="token punctuation">{</span><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.f-md-mb20</span></span><span class="token punctuation">{</span><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.f-md-ha</span></span><span class="token punctuation">{</span><span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*phone*/</span><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 767px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*small*/</span><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 638px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*print*/</span><span class="token atrule"><span class="token rule">@media</span> print</span> <span class="token punctuation">{</span>    <span class="token selector">a<span class="token attribute">[href]</span><span class="token pseudo-element">:after</span> </span><span class="token punctuation">{</span>        <span class="token property">content</span><span class="token punctuation">:</span> none!important<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="despiseIE-css"><a href="#despiseIE-css" class="headerlink" title="despiseIE.css"></a>despiseIE.css</h3><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.col-xs-1</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-2</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-3</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-4</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-5</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-6</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-7</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-8</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-9</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-10</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-11</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-1</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-2</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-3</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-4</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-5</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-6</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-7</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-8</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-9</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-10</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-pull-11</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-1</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-2</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-3</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-4</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-5</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-6</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-7</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-8</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-9</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-10</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.col-xs-push-11</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>    <span class="token selector"><span class="token class">.col-sm-1</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-2</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-3</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-4</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-5</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-6</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-7</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-8</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-9</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-10</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-11</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-1</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-2</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-3</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-4</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-5</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-6</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-7</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-8</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-9</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-10</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-pull-11</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-1</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-2</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-3</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-4</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-5</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-6</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-7</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-8</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-9</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-10</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-sm-push-11</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>    <span class="token selector"><span class="token class">.col-md-1</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-2</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-3</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-4</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-5</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-6</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-7</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-8</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-9</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-10</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-11</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-1</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-2</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-3</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-4</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-5</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-6</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-7</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-8</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-9</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-10</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-pull-11</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-1</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-2</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-3</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-4</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-5</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-6</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-7</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-8</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-9</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-10</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-md-push-11</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>    <span class="token selector"><span class="token class">.col-lg-1</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-2</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-3</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-4</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-5</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-6</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-7</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-8</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-9</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-10</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-11</span></span><span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-1</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-2</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-3</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-4</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-5</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-6</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-7</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-8</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-9</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-10</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-pull-11</span></span><span class="token punctuation">{</span><span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-1</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">8.33%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-2</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">16.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-3</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">24.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-4</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">33.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-5</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">41.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-6</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">49.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-7</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">58.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-8</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">66.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-9</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">74.99%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-10</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">83.32%</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.col-lg-push-11</span></span><span class="token punctuation">{</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">91.65%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Bootstrap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用户的创建、删除与修改</title>
      <link href="/categories/database/af86add3.html"/>
      <url>/categories/database/af86add3.html</url>
      
        <content type="html"><![CDATA[<h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><p>首先要进入我们的admin库中，进入方法是直接使用use admin 就可以。进入后可以使用show collections来查看数据库中的集合。默认是只有一个集合的（system.version）。<br>创建用户可以用db.createUser方法来完成</p><pre class=" language-js"><code class="language-js">db<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    user<span class="token punctuation">:</span><span class="token string">"panpan"</span><span class="token punctuation">,</span>    pwd<span class="token punctuation">:</span><span class="token string">"123456"</span><span class="token punctuation">,</span>    customData<span class="token punctuation">:</span><span class="token punctuation">{</span>        name<span class="token punctuation">:</span><span class="token string">'潘潘'</span><span class="token punctuation">,</span>        email<span class="token punctuation">:</span><span class="token string">'211695630@qq.com'</span><span class="token punctuation">,</span>        age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    roles<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'read'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>当然我们还可以单独配置一个数据库的权限，比如我们现在要配置compay数据库的权限为读写：</p><pre class=" language-js"><code class="language-js">db<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    user<span class="token punctuation">:</span><span class="token string">"panpan"</span><span class="token punctuation">,</span>    pwd<span class="token punctuation">:</span><span class="token string">"123456"</span><span class="token punctuation">,</span>    customData<span class="token punctuation">:</span><span class="token punctuation">{</span>        name<span class="token punctuation">:</span><span class="token string">'潘潘'</span><span class="token punctuation">,</span>        email<span class="token punctuation">:</span><span class="token string">'211695630@qq.com'</span><span class="token punctuation">,</span>        age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    roles<span class="token punctuation">:</span><span class="token punctuation">[</span>        <span class="token punctuation">{</span>            role<span class="token punctuation">:</span><span class="token string">"readWrite"</span><span class="token punctuation">,</span>            db<span class="token punctuation">:</span><span class="token string">"company"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token string">'read'</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>内置角色：<br>数据库用户角色：read、readWrite；<br>数据库管理角色：dbAdmin、dbOwner、userAdmin;<br>集群管理角色：clusterAdmin、clusterManager、clusterMonitor、hostManage；<br>备份恢复角色：backup、restore；<br>所有数据库角色：readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase<br>超级用户角色：root<br>内部角色：__system</p><h2 id="查找用户信息"><a href="#查找用户信息" class="headerlink" title="查找用户信息"></a>查找用户信息</h2><p>我们直接可以使用查找的方法，查找用户信息。命令很简单：</p><pre class=" language-bash"><code class="language-bash">db.system.users.find<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h2><p>删除用户也是非常简单，直接用remove就可以删除这个用户的信息和权限。</p><pre class=" language-bash"><code class="language-bash">db.system.users.remove<span class="token punctuation">(</span><span class="token punctuation">{</span>user:<span class="token string">"panpan"</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="建权"><a href="#建权" class="headerlink" title="建权"></a>建权</h2><p>有时候我们要验证用户的用户名密码是否正确，就需要用到MongoDB提供的建权操作。也算是一种登录操作，不过MongoDB把这叫做建权。</p><pre class=" language-bash"><code class="language-bash">db.auth<span class="token punctuation">(</span><span class="token string">"panpan"</span>,<span class="token string">"123456"</span><span class="token punctuation">)</span></code></pre><p>如果正确返回1，如果错误返回0。（Error：Authentication failed。）</p><h2 id="启动建权"><a href="#启动建权" class="headerlink" title="启动建权"></a>启动建权</h2><p>重启MongoDB服务器，然后设置必须使用建权登录。</p><pre class=" language-bash"><code class="language-bash">mongod --auth</code></pre><p>启动后，用户登录只能用用户名和密码进行登录，原来的mongo形式连接已经不起作用了。相应的用户权限也对应妥当。实际项目中我们启动服务器必须使用建权形式。</p><h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><p>如果在配置用户之后，用户想登录，可以使用mongo的形式，不过需要配置用户名密码：</p><pre class=" language-bash"><code class="language-bash">mongo -u panpan -p 123456 127.0.0.1:27017/admin</code></pre><p>这时候我们就可以用给我们的权限对数据库操作了。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>全文索引</title>
      <link href="/categories/database/3f39b042.html"/>
      <url>/categories/database/3f39b042.html</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>这节我们先建立一个集合（collections）-info，然后插入一小段文章，作用就是为建立全文索引提供数据，当然我们不再建立百万级数据，我们只是看一下效果。</p><pre class=" language-bash"><code class="language-bash">db.info.insert<span class="token punctuation">(</span><span class="token punctuation">{</span>contextInfo:<span class="token string">"I am a programmer, I love life, love family. Every day after work, I write a diary."</span><span class="token punctuation">}</span><span class="token punctuation">)</span>db.info.insert<span class="token punctuation">(</span><span class="token punctuation">{</span>contextInfo:<span class="token string">"I am a programmer, I love PlayGame, love drink. Every day after work, I playGame and drink."</span><span class="token punctuation">}</span></code></pre><p>当然这很简单，再次强调这只是文章需要，实际工作中这么简单的数据没必要建立全文索引。</p><h2 id="建立全文索引"><a href="#建立全文索引" class="headerlink" title="建立全文索引"></a>建立全文索引</h2><pre class=" language-bash"><code class="language-bash">db.info.ensureIndex<span class="token punctuation">(</span><span class="token punctuation">{</span>contextInfo:<span class="token string">'text'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>需要注意的是这里使用text关键词来代表全文索引，我们在这里就不建立数据模型了。</p><h2 id="全文索引查找"><a href="#全文索引查找" class="headerlink" title="全文索引查找"></a>全文索引查找</h2><p>建立好了全文索引就可以查找了，查找时需要两个关键修饰符:</p><ul><li>$text:表示要在全文索引中查东西。</li><li>$search:后边跟查找的内容。</li></ul><pre class=" language-bash"><code class="language-bash">db.info.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$text</span>:<span class="token punctuation">{</span><span class="token variable">$search</span><span class="token keyword">:</span><span class="token string">"programmer"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="查找多个词"><a href="#查找多个词" class="headerlink" title="查找多个词"></a>查找多个词</h2><p>全文索引是支持多个次查找的，比如我们希望查找数据中有programmer，family，diary，drink的数据（这是或的关系），所以两条数据都会出现。</p><pre class=" language-bash"><code class="language-bash">db.info.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$text</span>:<span class="token punctuation">{</span><span class="token variable">$search</span><span class="token keyword">:</span><span class="token string">"programmer family diary drink"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>如果我们这时候希望不查找出来有drink这个单词的记录，我们可以使用“-”减号来取消。</p><pre class=" language-bash"><code class="language-bash">db.info.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$text</span>:<span class="token punctuation">{</span><span class="token variable">$search</span><span class="token keyword">:</span><span class="token string">"programmer family diary -drink"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h2><p>全文搜索中是支持转义符的，比如我们想搜索的是两个词（love PlayGame和drink），这时候需要使用\斜杠来转意。</p><pre class=" language-bash"><code class="language-bash">db.info.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$text</span>:<span class="token punctuation">{</span><span class="token variable">$search</span><span class="token keyword">:</span><span class="token string">"\"love PlayGame\" drink"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>复合索引</title>
      <link href="/categories/database/483e80d4.html"/>
      <url>/categories/database/483e80d4.html</url>
      
        <content type="html"><![CDATA[<h2 id="索引中的小坑"><a href="#索引中的小坑" class="headerlink" title="索引中的小坑"></a>索引中的小坑</h2><p>通过实际开发和性能对比，总结了几条不用索引的情况：</p><ul><li>数据不超万条时，不需要使用索引。性能的提升并不明显，而大大增加了内存和硬盘的消耗。</li><li>查询数据超过表数据量30%时，不要使用索引字段查询。实际证明会比不使用索引更慢，因为它大量检索了索引表和我们原表。</li><li>数字索引，要比字符串索引快的多，在百万级甚至千万级数据量面前，使用数字索引是个明智的选择。</li><li>把你经常查询的数据做成一个内嵌数据（对象型的数据），然后集体进行索引。</li></ul><h2 id="复合索引"><a href="#复合索引" class="headerlink" title="复合索引"></a>复合索引</h2><p>复合索引就是两条以上的索引,之前我们已经把username字段建立了索引，我们现在把randNum0这个字段也设置成索引。</p><pre class=" language-bash"><code class="language-bash">db.randInfo.ensureIndex<span class="token punctuation">(</span><span class="token punctuation">{</span>randNum0:1<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>建立好后，我们再用查询索引状态命令进行查询。</p><pre class=" language-bash"><code class="language-bash">db.randInfo.getIndexes<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>这时候已经是两个自建索引了，一共有三个索引。</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>        <span class="token punctuation">{</span>                <span class="token string">"v"</span> <span class="token keyword">:</span> 2,                <span class="token string">"key"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span>                        <span class="token string">"_id"</span> <span class="token keyword">:</span> 1                <span class="token punctuation">}</span>,                <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"_id_"</span>,                <span class="token string">"ns"</span> <span class="token keyword">:</span> <span class="token string">"company.randInfo"</span>        <span class="token punctuation">}</span>,        <span class="token punctuation">{</span>                <span class="token string">"v"</span> <span class="token keyword">:</span> 2,                <span class="token string">"key"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span>                        <span class="token string">"username"</span> <span class="token keyword">:</span> 1                <span class="token punctuation">}</span>,                <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"username_1"</span>,                <span class="token string">"ns"</span> <span class="token keyword">:</span> <span class="token string">"company.randInfo"</span>        <span class="token punctuation">}</span>,        <span class="token punctuation">{</span>                <span class="token string">"v"</span> <span class="token keyword">:</span> 2,                <span class="token string">"key"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span>                        <span class="token string">"randNum0"</span> <span class="token keyword">:</span> 1                <span class="token punctuation">}</span>,                <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"randNum0_1"</span>,                <span class="token string">"ns"</span> <span class="token keyword">:</span> <span class="token string">"company.randInfo"</span>        <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><h2 id="两个索引同时查询"><a href="#两个索引同时查询" class="headerlink" title="两个索引同时查询"></a>两个索引同时查询</h2><p>我们同时查询两个索引的值，看看效果是怎么样的。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> startTime<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span>  rs<span class="token operator">=</span> db<span class="token punctuation">.</span>randInfo<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>username<span class="token punctuation">:</span><span class="token string">'gu7v2dtb'</span><span class="token punctuation">,</span>randNum0<span class="token punctuation">:</span><span class="token number">565509</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>rs<span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token function">printjson</span><span class="token punctuation">(</span>rs<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> runTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>startTime<span class="token punctuation">;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'[Demo]this run time is '</span><span class="token operator">+</span>runTime<span class="token operator">+</span><span class="token string">'ms'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>从性能上看并没有什么特殊的变化，查询时间还是在4ms左右。MongoDB的复合查询是按照我们的索引顺序进行查询的。就是我们用db.randInfo.getIndexes()查询出的数组。</p><h2 id="指定索引查询（hint）"><a href="#指定索引查询（hint）" class="headerlink" title="指定索引查询（hint）"></a>指定索引查询（hint）</h2><p>数字的索引要比字符串的索引快，这就需要一个方法来打破索引表的查询顺序，用我们自己指定的索引优先查询，这个方法就是hint().</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> rs<span class="token operator">=</span> db<span class="token punctuation">.</span>randInfo<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>username<span class="token punctuation">:</span><span class="token string">'gu7v2dtb'</span><span class="token punctuation">,</span>randNum0<span class="token punctuation">:</span><span class="token number">565509</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hint</span><span class="token punctuation">(</span><span class="token punctuation">{</span>randNum0<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>由于数据量和复杂成都还是不大，所以看不出来明显的性能提升，等工作中遇到大数据时，一定会得到很好的效果的。</p><h2 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h2><p>当索引性能不佳或起不到作用时，我们需要删除索引，删除索引的命令是dropIndex().</p><pre class=" language-bash"><code class="language-bash">db.randInfo.dropIndex<span class="token punctuation">(</span><span class="token string">'randNum0_1'</span><span class="token punctuation">)</span> //索引的唯一ID</code></pre><blockquote><p>这里需要注意的是删除时填写的值，并不是我们的字段名称（key），而是我们索引查询表中的name值。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>索引入门</title>
      <link href="/categories/database/d137d16e.html"/>
      <url>/categories/database/d137d16e.html</url>
      
        <content type="html"><![CDATA[<h2 id="普通查询性能"><a href="#普通查询性能" class="headerlink" title="普通查询性能"></a>普通查询性能</h2><p>我们先制作一个普通查询，随便查找一个用户名，并计算出查询和打印的时间，因为有200万条数据，所以性能不会很高。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> startTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//得到程序运行的开始时间</span><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true">//链接数据库</span><span class="token keyword">var</span> rs<span class="token operator">=</span>db<span class="token punctuation">.</span>randInfo<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>username<span class="token punctuation">:</span><span class="token string">"gu7v2dtb"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//根据用户名查找用户</span>rs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>rs<span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token function">printjson</span><span class="token punctuation">(</span>rs<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>                     <span class="token comment" spellcheck="true">//循环输出</span><span class="token keyword">var</span> runTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>startTime<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//得到程序运行时间</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'[SUCCESS]This run time is:'</span><span class="token operator">+</span>runTime<span class="token operator">+</span><span class="token string">'ms'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//打印出运行时间</span></code></pre><p>上边的代码就是一个普通的查询，只不过是记录了时间。在终端运行后，可以得到大概的运行时间是0.8秒左右（电脑性能不同，有所不同），第一次无缓存的运行时间大概是3.5秒左右。这个时间是没办法满足我们的日常查询的。</p><h2 id="建立索引"><a href="#建立索引" class="headerlink" title="建立索引"></a>建立索引</h2><p>试着为用户名（username）建立索引。建立索引只需要一句话就可以了。</p><pre class=" language-bash"><code class="language-bash">db.randInfo.ensureIndex<span class="token punctuation">(</span><span class="token punctuation">{</span>username:1<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>查看现有索引</p><pre class=" language-bash"><code class="language-bash">db.randInfo.getIndexes<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>终端的结果，现在只有一个索引值:</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token string">"v"</span> <span class="token keyword">:</span> 2,        <span class="token string">"key"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span>                <span class="token string">"_id"</span> <span class="token keyword">:</span> 1        <span class="token punctuation">}</span>,        <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"_id_"</span>,        <span class="token string">"ns"</span> <span class="token keyword">:</span> <span class="token string">"company.randInfo"</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><p>那现在使用命令建立一下索引db.randomInfo.ensureIndex({uername:1})，我的电脑大概要50秒左右，建立好后我们重新使用db.randomInfo.getIndexes()，查看一下结果。</p><p>结果如下：已经变成了两条索引。</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>    <span class="token punctuation">{</span>        <span class="token string">"v"</span> <span class="token keyword">:</span> 2,        <span class="token string">"key"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span>                <span class="token string">"_id"</span> <span class="token keyword">:</span> 1        <span class="token punctuation">}</span>,        <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"_id_"</span>,        <span class="token string">"ns"</span> <span class="token keyword">:</span> <span class="token string">"company.randInfo"</span>    <span class="token punctuation">}</span>,    <span class="token punctuation">{</span>        <span class="token string">"v"</span> <span class="token keyword">:</span> 2,        <span class="token string">"key"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span>                <span class="token string">"username"</span> <span class="token keyword">:</span> 1        <span class="token punctuation">}</span>,        <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"uername_1"</span>,        <span class="token string">"ns"</span> <span class="token keyword">:</span> <span class="token string">"company.randInfo"</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><p>然后我们再来load一下demo09.js文件（load(‘./demo09.js’)），看一下现在多少秒可以查询出来。这时候查询的时间缩短到了4ms左右，查询性能提升了大概200倍左右。</p><blockquote><p>总结：无论是在关系型数据库还是文档数据库，建立索引都是非常重要的。前边讲了，索引这东西是要消耗硬盘和内存资源的，所以还是要根据程序需要进行建立了。MongoDB也给我们进行了限制，只允许我们建立64个索引值。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDB构造百万级数据</title>
      <link href="/categories/database/a630e1f8.html"/>
      <url>/categories/database/a630e1f8.html</url>
      
        <content type="html"><![CDATA[<h2 id="制作随机数方法"><a href="#制作随机数方法" class="headerlink" title="制作随机数方法"></a>制作随机数方法</h2><p>我们要想生成一个百万级的数据集合，必须要有随机数的参与，我们需要写一个随机数的方法。下面的代码，创建了一个随机数方法。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//生成随机数</span><span class="token keyword">function</span> <span class="token function">GetRandomNum</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> range <span class="token operator">=</span> max<span class="token operator">-</span>min<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//得到随机数区间</span>    <span class="token keyword">let</span> rand <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//得到随机值</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>min <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>rand <span class="token operator">*</span>range<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//最小值+随机数取整</span><span class="token punctuation">}</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span><span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="制作随机用户名"><a href="#制作随机用户名" class="headerlink" title="制作随机用户名"></a>制作随机用户名</h2><p>有了随机数的方法，我们就可以制作一个随机生成的用户名。目的是存在不同的用户名，方便我们测试查询速度。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//生成随机数</span><span class="token keyword">function</span> <span class="token function">GetRandomNum</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> range <span class="token operator">=</span> max<span class="token operator">-</span>min<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//得到随机数区间</span>    <span class="token keyword">let</span> rand <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//得到随机值</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>min <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>rand <span class="token operator">*</span>range<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//最小值+随机数取整</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//print(GetRandomNum(10000,99999));</span><span class="token comment" spellcheck="true">//生成随机用户名</span><span class="token keyword">function</span> <span class="token function">GetRadomUserName</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> tempStringArray<span class="token operator">=</span> <span class="token string">"123456789qwertyuiopasdfghjklzxcvbnm"</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//构造生成时的字母库数组</span>    <span class="token keyword">let</span> outPuttext <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//最后输出的变量</span>    <span class="token comment" spellcheck="true">//进行循环，随机生产用户名的长度，这里需要生成随机数方法的配合</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//随机抽取字母，拼装成需要的用户名</span>        outPuttext<span class="token operator">=</span>outPuttext<span class="token operator">+</span>tempStringArray<span class="token punctuation">[</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>tempStringArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> outPuttext<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">GetRadomUserName</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h2 id="插入200万数据"><a href="#插入200万数据" class="headerlink" title="插入200万数据"></a>插入200万数据</h2><p>有了生成随机数和随机用户名的方法，就可以生产百万级数据了。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>db<span class="token punctuation">.</span>randomInfo<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> tempInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2000000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    tempInfo<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        username<span class="token punctuation">:</span><span class="token function">GetRadomUserName</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum0<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum1<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum2<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum3<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum4<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum5<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum6<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum7<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum8<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum8<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>db<span class="token punctuation">.</span>randomInfo<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>tempInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这个过程可能2-3分钟，根据自己的电脑配置不同，会有差别。<br>插入完成后，我们可以使用 <code>db.randomInfo.stats()</code> 这个命令查看数据中的数据条数。</p><h2 id="全部代码"><a href="#全部代码" class="headerlink" title="全部代码"></a>全部代码</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//生成随机数</span><span class="token keyword">function</span> <span class="token function">GetRandomNum</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> range <span class="token operator">=</span> max<span class="token operator">-</span>min<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//得到随机数区间</span>    <span class="token keyword">let</span> rand <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//得到随机值</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>min <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>rand <span class="token operator">*</span>range<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//最小值+随机数取整</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// print(GetRandomNum(10000,99999));</span><span class="token comment" spellcheck="true">//生成随机用户名</span><span class="token keyword">function</span> <span class="token function">GetRadomUserName</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> tempStringArray<span class="token operator">=</span> <span class="token string">"123456789qwertyuiopasdfghjklzxcvbnm"</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//构造生成时的字母库数组</span>    <span class="token keyword">let</span> outPuttext <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//最后输出的变量</span>    <span class="token comment" spellcheck="true">//进行循环，随机生产用户名的长度，这里需要生成随机数方法的配合</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//随机抽取字母，拼装成需要的用户名</span>        outPuttext<span class="token operator">=</span>outPuttext<span class="token operator">+</span>tempStringArray<span class="token punctuation">[</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>tempStringArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> outPuttext<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// print(GetRadomUserName(7,16))</span><span class="token comment" spellcheck="true">// var startTime=(new Date()).getTime();</span><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>db<span class="token punctuation">.</span>randomInfo<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span>  tempInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2000000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    tempInfo<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        username<span class="token punctuation">:</span><span class="token function">GetRadomUserName</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum0<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum1<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum2<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum3<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum4<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum5<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum6<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum7<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum8<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        randNum8<span class="token punctuation">:</span><span class="token function">GetRandomNum</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>db<span class="token punctuation">.</span>randomInfo<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>tempInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>find如何在js文本中使用</title>
      <link href="/categories/database/3854745b.html"/>
      <url>/categories/database/3854745b.html</url>
      
        <content type="html"><![CDATA[<h2 id="hasNext循环结果"><a href="#hasNext循环结果" class="headerlink" title="hasNext循环结果"></a>hasNext循环结果</h2><p>想在文本中执行我们的find语句要用到游标和循环的操作，先看一下代码。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">"company"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//进行链接对应的集合collections</span><span class="token keyword">var</span> result <span class="token operator">=</span> db<span class="token punctuation">.</span>workmate<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//声明变量result，并把查询结果赋值给result</span><span class="token comment" spellcheck="true">//利用游标的hasNext()进行循环输出结果。</span><span class="token keyword">while</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">printjson</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//用json格式打印结果</span><span class="token punctuation">}</span></code></pre><p>写完后，现在你只需要在终端中进行load()就可以执行了，再也不用麻烦的复制粘贴了。</p><h2 id="forEach循环"><a href="#forEach循环" class="headerlink" title="forEach循环"></a>forEach循环</h2><p>利用hasNext循环结果，需要借助while的帮助，MongoDB也为我们提供了forEach循环，现在修改上边的代码，使用forEach循环来输出结果。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">"company"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//进行链接对应的集合collections</span><span class="token keyword">var</span> result <span class="token operator">=</span> db<span class="token punctuation">.</span>workmate<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//声明变量result，并把查询结果赋值给result</span><span class="token comment" spellcheck="true">//利用游标的hasNext()进行循环输出结果。</span>result<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">printjson</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>作为个人觉得forEach循环更为优雅。这两种方法都是非常不错的,凭借自己爱好进行选择吧。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>find的参数使用方法</title>
      <link href="/categories/database/4f5344cd.html"/>
      <url>/categories/database/4f5344cd.html</url>
      
        <content type="html"><![CDATA[<h2 id="find参数"><a href="#find参数" class="headerlink" title="find参数"></a>find参数</h2><ul><li>query: 查询条件，MongoDB默认的第一个参数。</li><li>fields: （返回内容）查询出来后显示的结果样式，可以用true和false控制是否显示。</li><li>limit: 返回的数量，后边跟数字，控制每次查询返回的结果数量。</li><li>skip: 跳过多少个显示，和limit结合可以实现分页。</li><li>sort: 排序方式，从小到大排序使用1，从大到小排序使用-1。</li></ul><h2 id="分页Demo"><a href="#分页Demo" class="headerlink" title="分页Demo"></a>分页Demo</h2><p>明白了上面这些选项，现在可以作一个最简单的分页，我们把同事集合（collections）进行分页，每页显示两个，并且按照年龄从小到大的顺序排列。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span>name:true,age:true,_id:false<span class="token punctuation">}</span><span class="token punctuation">)</span>.limit<span class="token punctuation">(</span>0<span class="token punctuation">)</span>.skip<span class="token punctuation">(</span>2<span class="token punctuation">)</span>.sort<span class="token punctuation">(</span><span class="token punctuation">{</span>age:1<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="where修饰符"><a href="#where修饰符" class="headerlink" title="$where修饰符"></a>$where修饰符</h2><p>它是一个非常强大的修饰符，但强大的背后也意味着有风险存在。它可以让我们在条件里使用javascript的方法来进行复杂查询。我们先来看一个最简单的例子，现在要查询年龄大于25岁的人员。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span><span class="token variable">$where</span><span class="token keyword">:</span><span class="token string">"this.age>25"</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:true,age:true,_id:false<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>这里的this指向的是workmate（查询集合）本身。这样我们就可以在程序中随意调用。虽然强大和灵活，但是这种查询对于数据库的压力和安全性都会变重，所以在工作中尽量减少$where修饰符的使用。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>find的数组查询</title>
      <link href="/categories/database/d65a1577.html"/>
      <url>/categories/database/d65a1577.html</url>
      
        <content type="html"><![CDATA[<h2 id="完善数据"><a href="#完善数据" class="headerlink" title="完善数据"></a>完善数据</h2><p>以前的我们的workmate集合对数组涉及还很少，现在在数据中加入了兴趣（interest），并且给每个人加入了一些兴趣，比如有写代码，做饭，看电影…..</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> workmate1<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'panpan'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'前端'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'JavaScript'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'PHP'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    interest<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'看电影'</span><span class="token punctuation">,</span><span class="token string">'看书'</span><span class="token punctuation">,</span><span class="token string">'美食'</span><span class="token punctuation">,</span><span class="token string">'钓鱼'</span><span class="token punctuation">,</span><span class="token string">'旅游'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token keyword">var</span> workmate2<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'panda'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'JAVA后端'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'J2EE'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'PPT'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    interest<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'篮球'</span><span class="token punctuation">,</span><span class="token string">'看电影'</span><span class="token punctuation">,</span><span class="token string">'做饭'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token keyword">var</span> workmate3<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'jspan'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'UI设计'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'PhotoShop'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'UI'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'Word+Excel+PPT'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    interest<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'做饭'</span><span class="token punctuation">,</span><span class="token string">'画画'</span><span class="token punctuation">,</span><span class="token string">'看电影'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token keyword">var</span> workmate4<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'xiaowang'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">26</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'UI设计'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'PhotoShop'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'UI'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'Word+Excel+PPT'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    interest<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'画画'</span><span class="token punctuation">,</span><span class="token string">'聚会'</span><span class="token punctuation">,</span><span class="token string">'看电影'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token keyword">var</span> db<span class="token operator">=</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> workmateArray<span class="token operator">=</span><span class="token punctuation">[</span>workmate1<span class="token punctuation">,</span>workmate2<span class="token punctuation">,</span>workmate3<span class="token punctuation">,</span>workmate4<span class="token punctuation">]</span><span class="token punctuation">;</span>db<span class="token punctuation">.</span>workmate<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>workmateArray<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'[SUCCESS]：The data was inserted successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="基本数组查询"><a href="#基本数组查询" class="headerlink" title="基本数组查询"></a>基本数组查询</h2><p>比如现在我们知道了一个人的爱好是’画画’,’聚会’,’看电影’，但我们不知道是谁，这时候我们就可以使用最简单的数组查询（实际工作中，这种情况基本不常用，所以这种查询只作知识点储备就可以了）。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span>interest:<span class="token punctuation">[</span><span class="token string">'画画'</span>,<span class="token string">'聚会'</span>,<span class="token string">'看电影'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:1,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"画画"</span>, <span class="token string">"聚会"</span>, <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><p>这时候我们说，想查出看兴趣中有看电影的员工信息。按照正常逻辑，应该使用下面的代码。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span>interest:<span class="token punctuation">[</span><span class="token string">'看电影'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:1,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>运行后，并没有如我们所愿得到相应的人员数据，数据为空。那问题出现在哪里？问题就在于我们写了一个中括号([]),因为加上中括号就相当于完全匹配了，所以没有得到一条符合查询条件的数据。我们去掉中括号再看看结果。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span>interest:<span class="token string">'看电影'</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:1,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span>, <span class="token string">"看书"</span>, <span class="token string">"美食"</span>, <span class="token string">"钓鱼"</span>, <span class="token string">"旅游"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"篮球"</span>, <span class="token string">"看电影"</span>, <span class="token string">"做饭"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"做饭"</span>, <span class="token string">"画画"</span>, <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"画画"</span>, <span class="token string">"聚会"</span>, <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><p>这就是我们在数组中查询一项的方法，这也是数组查询的最简单用法。</p><h2 id="all-数组多项查询"><a href="#all-数组多项查询" class="headerlink" title="$all-数组多项查询"></a>$all-数组多项查询</h2><p>现在我们的条件升级了，要查询出喜欢看电影和看书的人员信息，也就是对数组中的对象进行查询，这时候要用到一个新的查询修饰符$all。看下面的例子：</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>interest:<span class="token punctuation">{</span><span class="token variable">$all</span>:<span class="token punctuation">[</span><span class="token string">"看电影"</span>,<span class="token string">"看书"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:1,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span>, <span class="token string">"看书"</span>, <span class="token string">"美食"</span>, <span class="token string">"钓鱼"</span>, <span class="token string">"旅游"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><p>这时候找到了兴趣中既有看电影又有看书的人员。</p><h2 id="in-数组的或者查询"><a href="#in-数组的或者查询" class="headerlink" title="$in-数组的或者查询"></a>$in-数组的或者查询</h2><p>用$all修饰符，是需要满足所有条件的，$in主要满足数组中的一项就可以被查出来（有时候会跟$or弄混）。比如现在要查询爱好中有看电影的或者看书的员工信息。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>interest:<span class="token punctuation">{</span><span class="token variable">$in</span>:<span class="token punctuation">[</span><span class="token string">"看电影"</span>,<span class="token string">"看书"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:1,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span>, <span class="token string">"看书"</span>, <span class="token string">"美食"</span>, <span class="token string">"钓鱼"</span>, <span class="token string">"旅游"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"篮球"</span>, <span class="token string">"看电影"</span>, <span class="token string">"做饭"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"做饭"</span>, <span class="token string">"画画"</span>, <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"画画"</span>, <span class="token string">"聚会"</span>, <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><h2 id="size-数组个数查询"><a href="#size-数组个数查询" class="headerlink" title="$size-数组个数查询"></a>$size-数组个数查询</h2><p>$size修饰符可以根据数组的数量查询出结果。比如现在我们要查找兴趣的数量是5个人员信息，这时候就可以使用$size。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>interest:<span class="token punctuation">{</span><span class="token variable">$size</span>:5<span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:1,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span>, <span class="token string">"看书"</span>, <span class="token string">"美食"</span>, <span class="token string">"钓鱼"</span>, <span class="token string">"旅游"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><p>这时候是5项爱好的人员就会显示出来了。</p><h2 id="slice-显示选项"><a href="#slice-显示选项" class="headerlink" title="$slice-显示选项"></a>$slice-显示选项</h2><p>有时候我并不需要显示出数组中的所有值，而是只显示前两项，比如我们现在想显示每个人兴趣的前两项，而不是把每个人所有的兴趣都显示出来。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:<span class="token punctuation">{</span><span class="token variable">$slice</span>:2<span class="token punctuation">}</span>,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span>, <span class="token string">"看书"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"篮球"</span>, <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"做饭"</span>, <span class="token string">"画画"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"画画"</span>, <span class="token string">"聚会"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><p>这时候就显示出了每个人兴趣的前两项，如果我们想显示兴趣的最后一项，可以直接使用slice:-1，来进行查询。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,interest:<span class="token punctuation">{</span><span class="token variable">$slice</span>:-1<span class="token punctuation">}</span>,age:1,_id:0<span class="token punctuation">}</span> <span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"旅游"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"做饭"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"interest"</span> <span class="token keyword">:</span> <span class="token punctuation">[</span> <span class="token string">"看电影"</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>find的多条件查询</title>
      <link href="/categories/database/a15d25e1.html"/>
      <url>/categories/database/a15d25e1.html</url>
      
        <content type="html"><![CDATA[<p>很多时候我们需要查询的值不只是有一个简单的条件，比如我们现在要查询一下同事中是20岁和26岁的，还比如我们要查询同事中大于25岁并且会PhotoShop技能的。MongoDB在这方面也支持的很好。</p><h2 id="in修饰符"><a href="#in修饰符" class="headerlink" title="$in修饰符"></a>$in修饰符</h2><p>$in修饰符可以轻松解决一键多值的查询情况。就如上面我们讲的例子，现在要查询同事中年龄是20岁和26岁的信息。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>age:<span class="token punctuation">{</span><span class="token variable">$in</span>:<span class="token punctuation">[</span>20,26<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,<span class="token string">"skill.skillOne"</span>:1,age:1,_id:0<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"HTML+CSS"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"PhotoShop"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><p>与$in相对的修饰符是$nin，就是查询除了$in条件以外的值。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>age:<span class="token punctuation">{</span><span class="token variable">$nin</span>:<span class="token punctuation">[</span>20,26<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,<span class="token string">"skill.skillOne"</span>:1,age:1,_id:0<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"HTML+CSS"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h2 id="or修饰符"><a href="#or修饰符" class="headerlink" title="$or修饰符"></a>$or修饰符</h2><p>它用来查询多个键值的情况，就比如查询同事中大于25岁或者会HTML+CSS的信息。主要区别是两个Key值。$in修饰符是一个Key值，这个需要去比较记忆。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$or</span>:<span class="token punctuation">[</span>    <span class="token punctuation">{</span>age:<span class="token punctuation">{</span><span class="token variable">$gte</span>:25<span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"skill.skillOne"</span><span class="token keyword">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,<span class="token string">"skill.skillOne"</span>:1,age:1,_id:0<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panpan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 24, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"HTML+CSS"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"HTML+CSS"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"PhotoShop"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><p>与$or相对的修饰符是$nor，就是查询除了$or条件以外的值。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$nor</span>:<span class="token punctuation">[</span>    <span class="token punctuation">{</span>age:<span class="token punctuation">{</span><span class="token variable">$gte</span>:25<span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"skill.skillOne"</span><span class="token keyword">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,<span class="token string">"skill.skillOne"</span>:1,age:1,_id:0<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"PhotoShop"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h2 id="and修饰符"><a href="#and修饰符" class="headerlink" title="$and修饰符"></a>$and修饰符</h2><p>$and用来查找几个key值都满足的情况，比如要查询同事中大于25岁并且会PhotoShop的信息，这时需要注意的是这两项必须全部满足。当然写法还是比较简单的。只要把上面代码中的$or换成$and就可以了。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token variable">$and</span>:<span class="token punctuation">[</span>    <span class="token punctuation">{</span>age:<span class="token punctuation">{</span><span class="token variable">$gte</span>:25<span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"skill.skillOne"</span><span class="token keyword">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:1,<span class="token string">"skill.skillOne"</span>:1,age:1,_id:0<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"PhotoShop"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h2 id="not修饰符"><a href="#not修饰符" class="headerlink" title="$not修饰符"></a>$not修饰符</h2><p>它用来查询除条件之外的值，比如我们现在要查找除年龄大于18岁，小于25岁的人员信息。需要注意的是$not修饰符不能应用在条件语句中，只能在外边进行查询使用。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span>    age:<span class="token punctuation">{</span>        <span class="token variable">$not</span>:<span class="token punctuation">{</span>            <span class="token variable">$lte</span>:25,            <span class="token variable">$gte</span>:18        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span>name:1,<span class="token string">"skill.skillOne"</span>:1,age:1,_id:0<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>结果为：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"xiaowang"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 26, <span class="token string">"skill"</span> <span class="token keyword">:</span> <span class="token punctuation">{</span> <span class="token string">"skillOne"</span> <span class="token keyword">:</span> <span class="token string">"PhotoShop"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>find的不等修饰符</title>
      <link href="/categories/database/af88765b.html"/>
      <url>/categories/database/af88765b.html</url>
      
        <content type="html"><![CDATA[<h2 id="构造数据"><a href="#构造数据" class="headerlink" title="构造数据"></a>构造数据</h2><pre class=" language-bash"><code class="language-bash">var workmate1<span class="token operator">=</span><span class="token punctuation">{</span>    name:<span class="token string">'panpan'</span>,    age:24,    sex:1,    job:<span class="token string">'前端'</span>,    skill:<span class="token punctuation">{</span>        skillOne:<span class="token string">'HTML+CSS'</span>,        SkillTwo:<span class="token string">'JavaScript'</span>,        SkillThree:<span class="token string">'PHP'</span>    <span class="token punctuation">}</span>,    regeditTime:new Date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>var workmate2<span class="token operator">=</span><span class="token punctuation">{</span>    name:<span class="token string">'panda'</span>,    age:20,    sex:1,    job:<span class="token string">'JAVA后端'</span>,    skill:<span class="token punctuation">{</span>        skillOne:<span class="token string">'HTML+CSS'</span>,        SkillTwo:<span class="token string">'J2EE'</span>,        SkillThree:<span class="token string">'PPT'</span>    <span class="token punctuation">}</span>,    regeditTime:new Date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>var workmate3<span class="token operator">=</span><span class="token punctuation">{</span>    name:<span class="token string">'jspan'</span>,    age:20,    sex:1,    job:<span class="token string">'UI设计'</span>,    skill:<span class="token punctuation">{</span>        skillOne:<span class="token string">'PhotoShop'</span>,        SkillTwo:<span class="token string">'UI'</span>,        SkillThree:<span class="token string">'Word+Excel+PPT'</span>    <span class="token punctuation">}</span>,    regeditTime:new Date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>var workmate4<span class="token operator">=</span><span class="token punctuation">{</span>    name:<span class="token string">'xiaowang'</span>,    age:26,    sex:1,    job:<span class="token string">'UI设计'</span>,    skill:<span class="token punctuation">{</span>        skillOne:<span class="token string">'PhotoShop'</span>,        SkillTwo:<span class="token string">'UI'</span>,        SkillThree:<span class="token string">'Word+Excel+PPT'</span>    <span class="token punctuation">}</span>,    regeditTime:new Date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>var db<span class="token operator">=</span>connect<span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>var workmateArray<span class="token operator">=</span><span class="token punctuation">[</span>workmate1,workmate2,workmate3,workmate4<span class="token punctuation">]</span><span class="token punctuation">;</span>db.workmate.insert<span class="token punctuation">(</span>workmateArray<span class="token punctuation">)</span><span class="token punctuation">;</span>print<span class="token punctuation">(</span><span class="token string">'[SUCCESS]：The data was inserted successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="简单查找"><a href="#简单查找" class="headerlink" title="简单查找"></a>简单查找</h2><p>比如我们现在要查找数据中年龄(age)为20。那我们直接进行查找加条件就可以了。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span><span class="token punctuation">{</span>age:20<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="筛选字段"><a href="#筛选字段" class="headerlink" title="筛选字段"></a>筛选字段</h2><p>现在返回来的数据项太多，太乱，有时候我们的程序并不需要这么多选项。比如我们只需要姓名和年龄就可以了。这时候我们需要写第二个参数，看下面的代码。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>age:20<span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:true,age:true<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>你会在终端中看到如下结果：</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"_id"</span> <span class="token keyword">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">"5cc0047eec051ac9f4b1a94a"</span><span class="token punctuation">)</span>, <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20 <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"_id"</span> <span class="token keyword">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">"5cc11c51f3101b6fe831af75"</span><span class="token punctuation">)</span>, <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20 <span class="token punctuation">}</span></code></pre><p>细心的小伙伴会发现还不够完美，多了一个ID字段，这个也不是我们想要的，这时候只要把_id:false就可以了。当然这里的false和true，也可以用0和1表示。</p><pre class=" language-bash"><code class="language-bash">db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>age:20<span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:true,age:true,_id:false<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>这时候你在终端中查看结果，已经是我们想要的了。</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"panda"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20 <span class="token punctuation">}</span><span class="token punctuation">{</span> <span class="token string">"name"</span> <span class="token keyword">:</span> <span class="token string">"jspan"</span>, <span class="token string">"age"</span> <span class="token keyword">:</span> 20 <span class="token punctuation">}</span></code></pre><p>其实这些查找操作，都是在作等于的阶段，但是不光只有等于查询，我们需要更多的查询条件。</p><h2 id="不等修饰符"><a href="#不等修饰符" class="headerlink" title="不等修饰符"></a>不等修饰符</h2><ul><li>小于($lt): 英文全称less-than</li><li>小于等于($lte): 英文全称less-than-equal</li><li>大于($gt): 英文全称greater-than</li><li>大于等于($gte): 英文全称greater-than-equal</li><li>不等于($ne): 英文全称not-equal</li></ul><p>我们现在要查找一下，公司内年龄小于25大于20岁的人员。看下面的代码。</p><pre class=" language-bsah"><code class="language-bsah">db.workmate.find(    {age:{$lte:25,$gte:20}},    {name:true,age:true,_id:false})</code></pre><h2 id="日期查找"><a href="#日期查找" class="headerlink" title="日期查找"></a>日期查找</h2><p>MongoDB也提供了方便的日期查找方法，现在我们要查找注册日期大于2019年5月9日的数据，我们可以这样写代码。</p><pre class=" language-bash"><code class="language-bash">var startDate<span class="token operator">=</span> new Date<span class="token punctuation">(</span><span class="token string">'05/09/2019'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>db.workmate.find<span class="token punctuation">(</span>    <span class="token punctuation">{</span>regeditTime:<span class="token punctuation">{</span><span class="token variable">$gt</span>:startDate<span class="token punctuation">}</span><span class="token punctuation">}</span>,    <span class="token punctuation">{</span>name:true,age:true,<span class="token string">"skill.skillOne"</span>:true,_id:false<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>我们先申明了一个日期变量，然后使用大于符进行筛选。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>状态返回与安全</title>
      <link href="/categories/database/fa005713.html"/>
      <url>/categories/database/fa005713.html</url>
      
        <content type="html"><![CDATA[<h2 id="应答式写入"><a href="#应答式写入" class="headerlink" title="应答式写入"></a>应答式写入</h2><p>在动手学习代码之前，我们先来了解一个概念：应答式写入。在以前的文章中，我们的操作都是非应答式写入，就是在操作完数据库后，它并没有给我们任何的回应和返回值，而是我们自己安慰自己写了一句话（print(‘[update]:The data was updated successfully’);）。这在工作中是不允许的，因为根本不能体现我们修改的结果。<br>应答式写入就会给我们直接返回结果（报表），结果里边的包含项会很多，这样我们就可以很好的进行程序的控制和安全机制的处理。有点像前端调用后端接口，无论作什么，后端都要给我一些状态字一样。</p><h2 id="db-runCommand"><a href="#db-runCommand" class="headerlink" title="db.runCommand( )"></a>db.runCommand( )</h2><p>它是数据库运行命令的执行器，执行命令首选就要使用它，因为它在Shell和驱动程序间提供了一致的接口。（几乎操作数据库的所有操作，都可以使用runCommand来执行）现在我们试着用runCommand来修改数据库，看看结果和直接用db.collections.update有什么不同。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>sex:1<span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$set</span>:<span class="token punctuation">{</span>money:1000<span class="token punctuation">}</span><span class="token punctuation">}</span>,false,true<span class="token punctuation">)</span>var resultMessage<span class="token operator">=</span>db.runCommand<span class="token punctuation">(</span><span class="token punctuation">{</span>getLastError:1<span class="token punctuation">}</span><span class="token punctuation">)</span>printjson<span class="token punctuation">(</span>resultMessage<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上边的代码，我们修改了所有男士的数据，每个人增加了1000元钱(money)，然后用db.runCommand()执行，可以看到执行结果在控制台返回了。</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span>    <span class="token string">"connectionId"</span> <span class="token keyword">:</span> 1,    <span class="token string">"updatedExisting"</span> <span class="token keyword">:</span> true,    <span class="token string">"n"</span> <span class="token keyword">:</span> 2,    <span class="token string">"syncMillis"</span> <span class="token keyword">:</span> 0,    <span class="token string">"writtenTo"</span> <span class="token keyword">:</span> null,    <span class="token string">"err"</span> <span class="token keyword">:</span> null,    <span class="token string">"ok"</span> <span class="token keyword">:</span> 1<span class="token punctuation">}</span></code></pre><ul><li>false: 第一句末尾的false是upsert的简写，代表没有此条数据时不增加</li><li>true: true是multi的简写，代表修改所有</li><li>getLastError: 1:表示返回功能错误</li><li>printjson: 表示以json对象的格式输出到控制台</li></ul><p>db.listCommands( ):查看所有的Commad命令。<br>比如我们要查看是否和数据库链接成功了，就可以使用Command命令。</p><pre class=" language-bash"><code class="language-bash">db.runCommand<span class="token punctuation">(</span><span class="token punctuation">{</span>ping:1<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>返回ok：1就代表链接正常。</p><h2 id="findAndModify"><a href="#findAndModify" class="headerlink" title="findAndModify"></a>findAndModify</h2><p>从名字上就可以看出，findAndModify是查找并修改的意思。配置它可以在修改后给我们返回修改的结果。我们先看下面的代码：</p><pre class=" language-bash"><code class="language-bash">var myModify<span class="token operator">=</span><span class="token punctuation">{</span>    findAndModify:<span class="token string">"workmate"</span>,    query:<span class="token punctuation">{</span>name:<span class="token string">'jspan'</span><span class="token punctuation">}</span>,    update:<span class="token punctuation">{</span><span class="token variable">$set</span>:<span class="token punctuation">{</span>age:18<span class="token punctuation">}</span><span class="token punctuation">}</span>,    new:true    //更新完成，需要查看结果，如果为false不进行查看结果<span class="token punctuation">}</span>var ResultMessage<span class="token operator">=</span>db.runCommand<span class="token punctuation">(</span>myModify<span class="token punctuation">)</span><span class="token punctuation">;</span>printjson<span class="token punctuation">(</span>ResultMessage<span class="token punctuation">)</span></code></pre><p>findAndModify的性能是没有直接使用db.collections.update的性能好，但是在实际工作中都是使用它，毕竟要商用的程序安全性还是比较重要的。</p><h2 id="findAndModify属性值"><a href="#findAndModify属性值" class="headerlink" title="findAndModify属性值"></a>findAndModify属性值</h2><ul><li>query: 需要查询的条件/文档</li><li>sort: 进行排序</li><li>remove: [boolean]是否删除查找到的文档，值填写true，可以删除</li><li>new: [boolean]返回更新前的文档还是更新后的文档</li><li>fields: 需要返回的字段</li><li>upsert: 没有这个值是否增加</li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>update数组修改器</title>
      <link href="/categories/database/6abf4a82.html"/>
      <url>/categories/database/6abf4a82.html</url>
      
        <content type="html"><![CDATA[<h2 id="push追加数组-内嵌文档值"><a href="#push追加数组-内嵌文档值" class="headerlink" title="$push追加数组/内嵌文档值"></a>$push追加数组/内嵌文档值</h2><p>$push的功能是追加数组中的值，但我们也经常用它操作内嵌稳文档，就是{}对象型的值。先看一个追加数组值的方式，比如我们要给张三加上一个爱好(interset)为画画（draw）：</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">'zhangsan'</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$push</span>:<span class="token punctuation">{</span>interest:<span class="token string">'draw'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>当然$push修饰符还可以为内嵌文档增加值，比如我们现在要给我们的UI，增加一项新的技能skillFour为draw，这时候我们可以操作为：</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">'jspan'</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$push</span>:<span class="token punctuation">{</span><span class="token string">"skill.skillFour"</span><span class="token keyword">:</span><span class="token string">'draw'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>$push修饰符在工作中是最常用的，因为我们的数据一般都会涉及数组和内嵌文档的操作。</p><h2 id="ne查找是否存在"><a href="#ne查找是否存在" class="headerlink" title="$ne查找是否存在"></a>$ne查找是否存在</h2><p>它主要的作用是，检查一个值是否存在，如果不存在再执行操作，存在就不执行。<br>例子：如果zhangsan的爱好（interest）里没有palyGame这个值，我们就加入Game这个爱好。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">'zhangsan'</span>,<span class="token string">"interest"</span>:<span class="token punctuation">{</span><span class="token variable">$ne</span><span class="token keyword">:</span><span class="token string">'playGame'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$push</span>:<span class="token punctuation">{</span>interest:<span class="token string">'Game'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>总结：没有则修改，有则不修改。</p></blockquote><h2 id="addToSet-升级版的-ne"><a href="#addToSet-升级版的-ne" class="headerlink" title="$addToSet 升级版的$ne"></a>$addToSet 升级版的$ne</h2><p>它是$ne的升级版本（查找是否存在，不存在就push上去），操作起来更直观和方便，所以再工作中这个要比$en用的多。<br>例子：我们现在要查看张三(zhangsan)兴趣(interest)中有没有阅读（readBook）这项，没有则加入读书(readBook)的兴趣.</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">"zhangsan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$addToSet</span>:<span class="token punctuation">{</span>interest:<span class="token string">"readBook"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="each-批量追加"><a href="#each-批量追加" class="headerlink" title="$each 批量追加"></a>$each 批量追加</h2><p>它可以传入一个数组，一次增加多个值进去，相当于批量操作，性能同样比循环操作要好很多，这个是需要我们注意的，工作中也要先组合成数组，然后用批量的形式进行操作。<br>例子：我们现在要给zhangsan,一次加入三个爱好，唱歌（Sing），跳舞（Dance），编码（Code）。</p><pre class=" language-bash"><code class="language-bash">var newInterset<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Sing"</span>,<span class="token string">"Dance"</span>,<span class="token string">"Code"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">"zhangsan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$addToSet</span>:<span class="token punctuation">{</span>interest:<span class="token punctuation">{</span><span class="token variable">$each</span>:newInterset<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="pop-删除数组值"><a href="#pop-删除数组值" class="headerlink" title="$pop 删除数组值"></a>$pop 删除数组值</h2><p>$pop只删除一次，并不是删除所有数组中的值。而且它有两个选项，一个是1和-1。</p><ul><li>1：从数组末端进行删除</li><li>-1：从数组开端进行删除</li></ul><p>例子：现在要删除zhangsan的编码爱好（code）。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">'zhangsan'</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$pop</span>:<span class="token punctuation">{</span>interest:1<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="数组定位修改"><a href="#数组定位修改" class="headerlink" title="数组定位修改"></a>数组定位修改</h2><p>有时候只知道修改数组的第几位，但并不知道是什么，这时候我们可以使用interest.int 的形式。<br>例子，比如我们现在要修改zhangsan的第三个兴趣为编码（Code），注意这里的计数是从0开始的。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">'zhangsan'</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$set</span>:<span class="token punctuation">{</span><span class="token string">"interest.2"</span><span class="token keyword">:</span><span class="token string">"Code"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识update修改器</title>
      <link href="/categories/database/1db87a14.html"/>
      <url>/categories/database/1db87a14.html</url>
      
        <content type="html"><![CDATA[<h2 id="set修改器"><a href="#set修改器" class="headerlink" title="$set修改器"></a>$set修改器</h2><p>用来修改一个指定的键值(key),这时候我们要修改上节课的sex和age就非常方便了，只要一句话就可以搞定。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token keyword">:</span><span class="token string">"jspan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"<span class="token variable">$set</span>"</span>:<span class="token punctuation">{</span>sex:2,age:21<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>修改好后，我们可以用db.workmate.find()来进行查看，你会发现数据已经被修改。</p><h2 id="修改嵌套内容-内嵌文档"><a href="#修改嵌套内容-内嵌文档" class="headerlink" title="修改嵌套内容(内嵌文档)"></a>修改嵌套内容(内嵌文档)</h2><p>比如现在的UI的技能发生了变化，说她不会作PPT而是word作的很好，需要进行修改。这时候你会发现skill数据是内嵌的，这时候我们可以属性的形式进行修改，skill.skillThree。具体看下面的代码。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token keyword">:</span><span class="token string">"jspan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"<span class="token variable">$set</span>"</span>:<span class="token punctuation">{</span><span class="token string">"skill.skillThree"</span><span class="token keyword">:</span><span class="token string">'word'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>这样就可以简单的修改内嵌文档了。</p><h2 id="unset用于将key删除"><a href="#unset用于将key删除" class="headerlink" title="$unset用于将key删除"></a>$unset用于将key删除</h2><p>它的作用其实就是删除一个key值和键。一般女孩子都是不希望看到自己的年龄的，所以要求我们把年龄删除。这时候我们就可以使用$unset的形式。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token keyword">:</span><span class="token string">"jspan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$unset</span>:<span class="token punctuation">{</span><span class="token string">"age"</span><span class="token keyword">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>当你删除后，想加回来可以直接用set进行添加。</p><h2 id="inc对数字进行计算"><a href="#inc对数字进行计算" class="headerlink" title="$inc对数字进行计算"></a>$inc对数字进行计算</h2><p>它是对value值的修改，但是修改的必须是数字，字符串是不起效果的。我们现在要对jspan的年龄减去2岁，就可以直接用$inc来操作。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token keyword">:</span><span class="token string">"jspan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$inc</span>:<span class="token punctuation">{</span><span class="token string">"age"</span>:-2<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="multi选项"><a href="#multi选项" class="headerlink" title="multi选项"></a>multi选项</h2><p>现在领导说了，你要把每个人的爱好也加入进来，但是如果你直接写会只加一个，比如下面这种形式。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$set</span>:<span class="token punctuation">{</span>interset:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>这时候你用db.workmate.find()查找，你会发现只改变了第一个数据，其他两条没有改变。这时候我们想改变就要用到multi选项。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$set</span>:<span class="token punctuation">{</span>interset:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span>multi:true<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>这时候每个数据都发生了改变，multi是有ture和false两个值，true代表全部修改，false代表只修改一个(默认值)。</p><h2 id="upsert选项"><a href="#upsert选项" class="headerlink" title="upsert选项"></a>upsert选项</h2><p>upsert是在找不到值的情况下，直接插入这条数据。比如我们这时候又来了一个新同事zhangsan，我们这时候修改他的信息，age设置成20岁，但集合中并没有这条数据。这时候可以使用upsert选项直接添加。</p><pre class=" language-bash"><code class="language-bash">db.workmate.update<span class="token punctuation">(</span><span class="token punctuation">{</span>name:<span class="token string">'zhangsan'</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token variable">$set</span>:<span class="token punctuation">{</span>age:20<span class="token punctuation">}</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span>upsert:true<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>upsert也有两个值：true代表没有就添加，false代表没有不添加(默认值)。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>update常见错误</title>
      <link href="/categories/database/84b12bae.html"/>
      <url>/categories/database/84b12bae.html</url>
      
        <content type="html"><![CDATA[<h2 id="错误：只update修改项"><a href="#错误：只update修改项" class="headerlink" title="错误：只update修改项"></a>错误：只update修改项</h2><p>如果你有过关系型数据库的经验，你会很容易犯只修改需要改变的一项，因为在关系型数据库中就是这样作的。先来准备一些数据。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/* demo01.js */</span><span class="token keyword">var</span> workmate1<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'panpan'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'前端'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'JavaScript'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'PHP'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">var</span> workmate2<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'panda'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'JAVA后端'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'HTML+CSS'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'J2EE'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'PPT'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">var</span> workmate3<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'jspan'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'UI设计'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'PhotoShop'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'UI'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'Word+Excel+PPT'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">var</span> db<span class="token operator">=</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token keyword">var</span> workmateArray<span class="token operator">=</span><span class="token punctuation">[</span>workmate1<span class="token punctuation">,</span>workmate2<span class="token punctuation">,</span>workmate3<span class="token punctuation">]</span>db<span class="token punctuation">.</span>workmate<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>workmateArray<span class="token punctuation">)</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'[SUCCESS]: The data was inserted successfully.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面的代码，我们以文件的形式向数据库中插入了3条数据。<br>这时候我突然发现UI职位的性别出现了错误，本来人家是个美女，这里却写成了男，我们需要修改这条数据，但是经常会这样写。<br>这样写的问题是，我们的最后一条数据变成了只有sex:0，其它数据全部丢失了，这肯定不是我们想要的。这是新手在操作数据库修改时经常犯的一个错误，就是只修改变动的数据。</p><h2 id="正确修改方法"><a href="#正确修改方法" class="headerlink" title="正确修改方法"></a>正确修改方法</h2><p>可以声明一个变量，然后把要改变数据的全部信息放入变量，最后执行修改操作。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/* demo02.js */</span><span class="token keyword">var</span> db<span class="token operator">=</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'company'</span><span class="token punctuation">)</span><span class="token keyword">var</span> workmate3<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'jspan'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>    job<span class="token punctuation">:</span><span class="token string">'UI设计'</span><span class="token punctuation">,</span>    skill<span class="token punctuation">:</span><span class="token punctuation">{</span>        skillOne<span class="token punctuation">:</span><span class="token string">'PhotoShop'</span><span class="token punctuation">,</span>        SkillTwo<span class="token punctuation">:</span><span class="token string">'UI'</span><span class="token punctuation">,</span>        SkillThree<span class="token punctuation">:</span><span class="token string">'Word+Excel+PPT'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    regeditTime<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>db<span class="token punctuation">.</span>workmate<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'jspan'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>workmate3<span class="token punctuation">)</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'[update]: The data was updated successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这时候你需要删除（db.workmate.drop()）表中的数据，因为jspan这个用户已经不在数据库中了，然后重新使用load方法载入插入数据再进行修改。<br><strong>执行命令如下:</strong></p><pre class=" language-js"><code class="language-js">db<span class="token punctuation">.</span>workmate<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'./demo01.js'</span><span class="token punctuation">)</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'./demo02.js'</span><span class="token punctuation">)</span></code></pre><p>现在这种方法才是正确的，数据修改正常了，但是你会发现写起来非常麻烦，而且特别容易写错。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>批量插入的正确方法</title>
      <link href="/categories/database/f3b61b38.html"/>
      <url>/categories/database/f3b61b38.html</url>
      
        <content type="html"><![CDATA[<p>在操作数据库时要注意两个能力：</p><ul><li>第一个是快速存储能力。</li><li>第二个是方便迅速查询能力。</li></ul><h2 id="批量插入"><a href="#批量插入" class="headerlink" title="批量插入"></a>批量插入</h2><p>批量数据插入是以数组的方式进行的（如果写错，可以3个回车可以切出来）。我们现在命令行中敲入下面的代码，我们可以看到数据顺利插入了。</p><pre class=" language-bash"><code class="language-bash">db.test.insert<span class="token punctuation">(</span><span class="token punctuation">[</span>    <span class="token punctuation">{</span><span class="token string">"_id"</span>:1<span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"_id"</span>:2<span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"_id"</span>:3<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>老版本MongoDB（3.2以前的版本基本都需要）是需要在Insert前加一个batch单词的，如下代码。</p><pre class=" language-bash"><code class="language-bash">db.test.batchInsert<span class="token punctuation">(</span><span class="token punctuation">[</span>    <span class="token punctuation">{</span><span class="token string">"_id"</span>:1<span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"_id"</span>:2<span class="token punctuation">}</span>,    <span class="token punctuation">{</span><span class="token string">"_id"</span>:3<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><blockquote><p>注意一次插入不要超过48M，像.zip和大图片什么的尽量用静态存储，MongoDB存储静态路径就好，这也算是一个规则。</p></blockquote><h2 id="批量插入性能测试"><a href="#批量插入性能测试" class="headerlink" title="批量插入性能测试"></a>批量插入性能测试</h2><p>循环插入快还是批量插入快？试着写一个小Shell，来验证一下结果。<br>先写一个循环插入方法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> startTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//得到开始时间</span><span class="token keyword">var</span>  db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//链接数据库</span><span class="token comment" spellcheck="true">//开始循环</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    db<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>num<span class="token punctuation">:</span>i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> runTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>startTime<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//计算时间差</span>print <span class="token punctuation">(</span><span class="token string">'This run this is:'</span><span class="token operator">+</span>runTime<span class="token operator">+</span><span class="token string">'ms'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//打印出来</span></code></pre><p>我测试的时间509ms，这个速度虽然和电脑性能有关，但还是不太理想，1000条数据用了将近半秒。</p><p>批量插入代码：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> startTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span>  db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> tempArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>              <span class="token comment" spellcheck="true">//声明一个数组</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//循环向数组中放入值</span>    tempArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>num<span class="token punctuation">:</span>i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>db<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>tempArray<span class="token punctuation">)</span>       <span class="token comment" spellcheck="true">//批量一次插入</span><span class="token keyword">var</span> runTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>startTime<span class="token punctuation">;</span>print <span class="token punctuation">(</span><span class="token string">'This run this is:'</span><span class="token operator">+</span>runTime<span class="token operator">+</span><span class="token string">'ms'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这次用了18ms，性能远远超过循环插入。</p><p>总结：在工作中一定要照顾数据库性能，这也是你水平的体现，一个技术会了很简单，但是要作精通不那么简单。在工作中如果在循环插入和批量插入举棋不定，那就选批量插入吧，它会给我们更优的性能体验。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用js文件写mongo命令</title>
      <link href="/categories/database/55679ed1.html"/>
      <url>/categories/database/55679ed1.html</url>
      
        <content type="html"><![CDATA[<p>把命令写入JS中： 现在模拟一个用户登录日志表的信息，用JS进行编写。新在一个新建的目录下，比如D:/mongoShell/，新建一个goTask.js文件。文件内容如下：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> userName<span class="token operator">=</span><span class="token string">"panpan"</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//声明一个登录名             </span><span class="token keyword">var</span> timeStamp<span class="token operator">=</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//声明登录时的时间戳  </span><span class="token keyword">var</span> jsonDdatabase<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"loginUnser"</span><span class="token punctuation">:</span>userName<span class="token punctuation">,</span><span class="token string">"loginTime"</span><span class="token punctuation">:</span>timeStamp<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//组成JSON字符串</span><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//链接数据库</span>db<span class="token punctuation">.</span>login<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>jsonDdatabase<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//插入数据</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'[demo]log  print success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//没有错误显示成功</span></code></pre><p><strong>执行JS文件</strong><br>写好了JS文件，需要执行起来，看一下文件是否存在问题，能否顺利的插入数据到MongoDB中。<br>执行其实很简单，只要使用mongo xxx.js(xxx就是我们写的goTask.js文件)。</p><pre class=" language-bash"><code class="language-bash">mongo goTask.js</code></pre><p>然后我们可以在命令行看到已经执行成功，可以到终端中进行查看插入结果。</p><pre class=" language-bash"><code class="language-bash">use logdb.login.find<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mongo基本命令</title>
      <link href="/categories/database/1ad5be0d.html"/>
      <url>/categories/database/1ad5be0d.html</url>
      
        <content type="html"><![CDATA[<p>先来一个常用的赋值和输出命令，熟悉一下。</p><pre class=" language-bash"><code class="language-bash">var x<span class="token operator">=</span><span class="token string">'Hello World'</span>print<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre><blockquote><p>需要注意的是这里的输出不再使用console.log(‘Hello World’),而是使用print(‘Hello World’),这个稍有区别。</p></blockquote><p>还可以定义函数：</p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">function</span> panpan<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>学到这里，我们用的都是JavaScript的语法，这些我们可以信手拈来，非常容易。</p><p><strong>MongoDB的存储结构</strong> 以前我们的关系型数据库的数据结构都是顶层是库，库下面是表，表下面是数据。但是MongoDB有所不同，库下面是集合，集合下面是文件。在学习中我们可以对比记忆，这样才能更好的了解这些名词，其实数据表就是集合，数据行就是文件，当然这只是为了记忆，实质还是有区别的。</p><h2 id="基础Shell命令"><a href="#基础Shell命令" class="headerlink" title="基础Shell命令"></a>基础Shell命令</h2><ul><li>show dbs :显示已有数据库，如果你刚安装好，会默认有local、admin(config)，这是MongoDB的默认数据库，我们在新建库时是不允许起这些名称的。</li><li>use admin： 进入数据，也可以理解成为使用数据库。成功会显示：switched to db admin。</li><li>show collections: 显示数据库中的集合（关系型中叫表，我们要逐渐熟悉）。</li><li>db:显示当前位置，也就是你当前使用的数据库名称，这个命令算是最常用的，因为你在作任何操作的时候都要先查看一下自己所在的库，以免造成操作错误。</li></ul><h2 id="数据操作基础命令"><a href="#数据操作基础命令" class="headerlink" title="数据操作基础命令"></a>数据操作基础命令</h2><ul><li>use db（建立数据库）：use不仅可以进入一个数据库，如果你敲入的库不存在，它还可以帮你建立一个库。但是在没有集合前，它还是默认为空。</li><li>db.集合.insert( ):新建数据集合和插入文件（数据），当集合没有时，这时候就可以新建一个集合，并向里边插入数据。<pre class=" language-bash"><code class="language-bash">db.user.insert<span class="token punctuation">(</span><span class="token punctuation">{</span>“name”:”panpan”<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li>db.集合.find( ):查询所有数据，这条命令会列出集合下的所有数据，可以看到MongoDB是自动给我们加入了索引值的。<pre class=" language-bash"><code class="language-bash">db.user.find<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li><li>db.集合.findOne( ):查询第一个文件数据，这里需要注意的，所有MongoDB的组合单词都使用首字母小写的驼峰式写法。</li><li>db.集合.update({查询},{修改}):修改文件数据，第一个是查询条件，第二个是要修改成的值。这里注意的是可以多加文件数据项的。<pre class=" language-bash"><code class="language-bash">db.user.update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token keyword">:</span><span class="token string">"panpan"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"name"</span><span class="token keyword">:</span><span class="token string">"panpan"</span>,<span class="token string">"age"</span><span class="token keyword">:</span><span class="token string">"20"</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li>db.集合.remove(条件)：删除文件数据，注意的是要跟一个条件。<pre class=" language-bash"><code class="language-bash">db.user.remove<span class="token punctuation">(</span><span class="token punctuation">{</span>“name”:”panpan”<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li>db.集合.drop( ):删除整个集合，这个在实际工作中一定要谨慎使用，如果是程序，一定要二次确认。</li><li>db.dropDatabase( ):删除整个数据库，在删除库时，一定要先进入数据库，然后再删除。实际工作中这个基本不用，实际工作可定需要保留数据和痕迹的。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>认识和安装MongoDB</title>
      <link href="/categories/database/83dcefb7.html"/>
      <url>/categories/database/83dcefb7.html</url>
      
        <content type="html"><![CDATA[<p>都知道MongoDB是非关系型数据库，要了解非关系型数据库就必须先了解关系型数据库，关系数据库，是建立在关系模型基础上的数据库。比较有名气的关系型数据库，比如Oracle、DB2、MSSQL、Mysql。</p><h2 id="非关系数据库和关系型数据库的区别是什么？"><a href="#非关系数据库和关系型数据库的区别是什么？" class="headerlink" title="非关系数据库和关系型数据库的区别是什么？"></a>非关系数据库和关系型数据库的区别是什么？</h2><ul><li>实质：非关系型数据库的实质：非关系型数据库产品是传统关系型数据库的功能阉割版，通过减少用不到或很少用的功能，来大幅度提高产品性能。</li><li>价格：目前的非关系型数据库基本都是免费的，而比较有名气的关系型数据库都是收费的，比如：Oracle、DB2、MSSQL。MySql虽然是免费的，但是处理大型数据还是要提前作很多工作的。</li><li>功能：实际开发中，很多业务需求，其实并不需要完整的关系型数据库功能，非关系型数据库的功能就足够使用了。这种情况下，使用性能更高、成本更低的非关系型数据库当然是更明智的选择。</li></ul><p>了解关系型数据库和非关系型数据库的区别后，需要有一点的取舍，比较复杂和大型的项目不建议使用非关系型数据库，但是如果你想作个博客，CMS系统这类业务逻辑不复杂的程序，MongoDB是完全可以胜任的。</p><h2 id="MongoDB简介"><a href="#MongoDB简介" class="headerlink" title="MongoDB简介"></a>MongoDB简介</h2><blockquote><p>MongoDB是一个基于分布式文件存储的数据库，由C++语言编写。目的是为WEB应用提供扩展的高性能的数据存储解决方案。MongoDB是一个介于关系型数据库和非关系型数据库之间的产品，是非关系型数据库当中功能最丰富，最像关系数据库的。他支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。</p></blockquote><h2 id="安装MongoDB"><a href="#安装MongoDB" class="headerlink" title="安装MongoDB"></a>安装MongoDB</h2><p>MongoDB的安装分为Windows下的安装和Mac的安装（Liunx和Mac趋同）。</p><h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><p>1.去官网下载MongoDB，<a href="https://www.mongodb.com/" target="_blank" rel="noopener">https://www.mongodb.com/</a> , 在网站中找到Download按钮。<br>2.下载后进行安装，安装没什么难度，但是对于新手建议选择默认安装，而不选择自己配置。等我们完全熟悉后再定制式配置。<br>3.安装时如果有安全软件，会报一些拦截，一律允许就好，不允许会安装失败的。<br>4.安装完成后，需要配置“环境变量”，目的是再命令行中直接使用，而不需要输入很长的路径了。</p><h2 id="运行MongoDB服务端"><a href="#运行MongoDB服务端" class="headerlink" title="运行MongoDB服务端"></a>运行MongoDB服务端</h2><p>安装好MongoDB数据库后，我们需要启用服务端才能使用。启用服务的命令是：Mongod。<br>1.打开命令行:先打开运行（快捷键win+R），然后输入cmd后回车，就可以打开命令行工具。<br>2.执行mongod:在命令中直接输入mongod，但是你会发现服务并没有启动，报了一个exception，服务停止了。<br>3.新建文件夹:出现上边的错误，是因为我们没有建立Mongodb需要的文件夹，一般是安装盘的根目录，建立data/db,这两个文件夹。<br>4.运行mongod：这时候服务就可以开启了，链接默认端口是27017。</p><h2 id="链接服务"><a href="#链接服务" class="headerlink" title="链接服务"></a>链接服务</h2><p>服务端开启后，我们可以使用命令行来链接服务端，链接命令是mongo。重新打开一个命令行工具，然后输入mongo命令。也许你在链接时会报几个warning（警告），我们先不用管它，以后我们再慢慢学习。<br>查看存在数据库命令：show dbs<br>查看数据库版本命令：db.version()<br>如果这两条命令都可以正常的显示出结果，证明我们的MongoDB数据库已经安装成功了。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 文章管理</title>
      <link href="/categories/blog/83dcefb7.html"/>
      <url>/categories/blog/83dcefb7.html</url>
      
        <content type="html"><![CDATA[<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><h3 id="全局安装-hexo-命令库"><a href="#全局安装-hexo-命令库" class="headerlink" title="全局安装 hexo 命令库"></a>全局安装 hexo 命令库</h3><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-cli -g</code></pre><h3 id="创建一个博客项目（一般只在首次创建，后续操作从第三步开始即可）"><a href="#创建一个博客项目（一般只在首次创建，后续操作从第三步开始即可）" class="headerlink" title="创建一个博客项目（一般只在首次创建，后续操作从第三步开始即可）"></a>创建一个博客项目（一般只在首次创建，后续操作从第三步开始即可）</h3><pre class=" language-bash"><code class="language-bash">hexo init blog</code></pre><h3 id="进入博客项目"><a href="#进入博客项目" class="headerlink" title="进入博客项目"></a>进入博客项目</h3><pre class=" language-bash"><code class="language-bash"><span class="token function">cd</span> blog</code></pre><h3 id="新建-amp-编辑文章"><a href="#新建-amp-编辑文章" class="headerlink" title="新建&amp;编辑文章"></a>新建&amp;编辑文章</h3><p>命令行中输入以下指令以创建新文章：</p><pre class=" language-bash"><code class="language-bash">hexo new <span class="token string">"new article"</span></code></pre><blockquote><p>执行后在 source/_posts 中生成了一个 new-article.md 文件</p></blockquote><p>文件中的初始内容为：</p><pre class=" language-md"><code class="language-md">---title: new articledate: 2014-11-01 20:10:33tags:---</code></pre><p>使用三个 “-” 字符包裹着页面的属性，采用 yaml 格式书写<br>接着是正文，采用 markdown 格式书写</p><h3 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h3><pre class=" language-bash"><code class="language-bash">hexo generate/g</code></pre><h3 id="本地服务预览"><a href="#本地服务预览" class="headerlink" title="本地服务预览"></a>本地服务预览</h3><p>命令行中输入以下指令启动本地服务器</p><pre class=" language-bash"><code class="language-bash">hexo server/s</code></pre><p>然后在浏览器窗口打开 localhost:4000</p><blockquote><p>注意：在新建、删除或修改文章之后，不需要重新启动服务器，只需刷新一下页面就能预览新的改动</p></blockquote><h3 id="发布到服务器上"><a href="#发布到服务器上" class="headerlink" title="发布到服务器上"></a>发布到服务器上</h3><p>命令行中输入以下指令</p><pre class=" language-bash"><code class="language-bash">hexo deploy/d</code></pre><blockquote><p>前提:必须在站点配置文件 _config.yml 中做以下配置：</p></blockquote><pre class=" language-yml"><code class="language-yml">deploy:  type: git  repository: git@github.com:用户名/仓库名.git  branch: master</code></pre><p>这里只会把根目录中的 public 整个文件夹发布到服务器，因为这里面才是所有工作的产出物——我们的博客静态文件。我们之前所有操作都是在为这个产出做准备工作。</p><h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>文章可以拥有如下属性：</p><table><thead><tr><th align="center">Setting</th><th align="center">Description</th><th align="center">Default</th></tr></thead><tbody><tr><td align="center">layout</td><td align="center">Layout</td><td align="center">post或page</td></tr><tr><td align="center">title</td><td align="center">文章的标题</td><td align="center"></td></tr><tr><td align="center">date</td><td align="center">文章的创建日期</td><td align="center">文章的创建日期</td></tr><tr><td align="center">updated</td><td align="center">文章的更新日期</td><td align="center">文章的更新日期</td></tr><tr><td align="center">comments</td><td align="center">是否开启评论</td><td align="center">true</td></tr><tr><td align="center">tags</td><td align="center">标签</td><td align="center"></td></tr><tr><td align="center">categories</td><td align="center">分类</td><td align="center"></td></tr><tr><td align="center">permalink</td><td align="center">url中的名字</td><td align="center">文件名</td></tr></tbody></table><h2 id="分类和标签的写法"><a href="#分类和标签的写法" class="headerlink" title="分类和标签的写法"></a>分类和标签的写法</h2><p>在正文之前的配置项中配置相应的文本即可</p><pre class=" language-md"><code class="language-md">categories:  - 日记tags:  - Hexo  - node.js# 或者写成数组的形式categories: 日记tags: [Hexo, node.js]</code></pre><h2 id="首页摘要"><a href="#首页摘要" class="headerlink" title="首页摘要"></a>首页摘要</h2><p>同 wordpress 一样，在正文中 之上的内容显示为摘要。</p><h2 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h2><p>如果你修改了 layout，在 scaffolds 文件夹里一定要有名字对应的模版文件，否则会采用默认模版。</p><h2 id="文件名"><a href="#文件名" class="headerlink" title="文件名"></a>文件名</h2><p>在配置文件中的 <code>new_post_name</code> 项可以设置文件名，默认为 <code>:title</code> ，也就是你在命令行输入的名字。<br>文件名可以为下面几个变量和字符串常量的任意组合：</p><table><thead><tr><th align="left">Variable</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">:title</td><td align="left">Escaped title (lower case and replace spaces with dash)</td></tr><tr><td align="left">:year</td><td align="left">Created year (4-digit)</td></tr><tr><td align="left">:month</td><td align="left">Created month (2-digit)</td></tr><tr><td align="left">:i_month</td><td align="left">Created month (Without leading zeros)</td></tr><tr><td align="left">:day</td><td align="left">Created day (2-digit)</td></tr><tr><td align="left">:i_day</td><td align="left">Created day (Without leading zeros)</td></tr></tbody></table><h2 id="草稿"><a href="#草稿" class="headerlink" title="草稿"></a>草稿</h2><p>草稿相当于很多博客都有的 “私密文章” 功能。</p><pre class=" language-bash"><code class="language-bash">hexo new draft <span class="token string">"new draft"</span></code></pre><p>会在 source/_drafts 目录下生成一个 new-draft.md 文件。但是这个文件不被显示在页面上，链接也访问不到。也就是说如果你想把某一篇文章移除显示，又不舍得删除，可以把它移动到 _drafts 目录之中。<br>如果你希望强行预览草稿，更改配置文件：</p><pre class=" language-bash"><code class="language-bash">render_drafts: <span class="token boolean">true</span></code></pre><p>或者，如下方式启动server：</p><pre class=" language-bash"><code class="language-bash">hexo server --drafts</code></pre><p>下面这条命令可以把草稿变成文章，或者页面：</p><pre class=" language-bash"><code class="language-bash">hexo publish <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>filename<span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flex-弹性布局</title>
      <link href="/categories/frontend/1ad5be0d.html"/>
      <url>/categories/frontend/1ad5be0d.html</url>
      
        <content type="html"><![CDATA[<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>&emsp;&emsp;采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”项目”。<br>&emsp;&emsp;容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；交叉轴的开始位置叫做cross start，结束位置叫做cross end。<br>&emsp;&emsp;Flex项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。<br>&emsp;&emsp;Flex属性分为两部分，一部分作用于容器称容器属性，另一部分作用于项目称为项目属性。下面我们就分部的来介绍它们。</p><h2 id="Flex容器属性"><a href="#Flex容器属性" class="headerlink" title="Flex容器属性"></a>Flex容器属性</h2><h3 id="flex容器定义"><a href="#flex容器定义" class="headerlink" title="flex容器定义"></a>flex容器定义</h3><p>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 或者 inline-flex */</span><span class="token punctuation">}</span></code></pre><p>&emsp;&emsp;上述写法，定义了一个flex容器，根据设值的不同可以是块状容器或内联容器。这使得直接子结点拥有了一个flex上下文。</p><h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h3><p>&emsp;&emsp;<code>flex-direction</code> 属性决定主轴的方向（即项目的排列方向）。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row | row-reverse | column | column-reverse<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><code>row</code> 表示从左向右排列</li><li><code>row-reverse</code> 表示从右向左排列</li><li><code>column</code> 表示从上向下排列</li><li><code>column-reverse</code> 表示从下向上排列</li></ul><h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><p>&emsp;&emsp;缺省情况下，Flex项目都排在一条线（又称”轴线”）上。我们可以通过 <code>flex-wrap</code> 属性的设置，让Flex项目换行排列。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> nowrap | wrap | wrap-reverse<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><code>nowrap</code> (缺省)：所有Flex项目单行排列</li><li><code>wrap</code> ：所有Flex项目多行排列，按从上到下的顺序</li><li><code>wrap-reverse</code> ：所有Flex项目多行排列，按从下到上的顺序</li></ul><h3 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h3><p>&emsp;&emsp;<code>flex-flow</code> 属性是 <code>flex-direction</code> 属性和 <code>flex-wrap</code> 属性的简写形式，默认值为 <code>row nowrap</code><br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>    <span class="token property">flex-flow</span><span class="token punctuation">:</span> &lt;‘flex-direction’> || &lt;‘flex-wrap’><span class="token punctuation">}</span></code></pre><h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>&emsp;&emsp;<code>justify-content</code> 属性定义了项目在主轴上的对齐方式及额外空间的分配方式。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span>  </span><span class="token punctuation">{</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-start | flex-end | center | space-between | space-around | space-evenly<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><code>flex-start</code> (缺省)：从启点线开始顺序排列</li><li><code>flex-end</code> ：相对终点线顺序排列</li><li><code>center</code> ：居中排列</li><li><code>space-between</code> ：项目均匀分布，第一项在启点线，最后一项在终点线</li><li><code>space-around</code> ：项目均匀分布，每一个项目两侧有相同的留白空间，相邻项目之间的距离是两个项目之间留白的和</li><li><code>space-evenly</code> ：项目均匀分布，所有项目之间及项目与边框之间距离相等</li></ul><h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h3><p>&emsp;&emsp;<code>align-items</code> 属性定义项目在交叉轴上的对齐方式。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> stretch | flex-start | flex-end | center | baseline<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><code>stretch</code> (缺省)：交叉轴方向拉伸显示</li><li><code>flex-start</code> ：项目按交叉轴起点线对齐</li><li><code>flex-end</code> ：项目按交叉轴终点线对齐</li><li><code>center</code> ：交叉轴方向项目中间对齐</li><li><code>baseline</code> ：交叉轴方向按第一行文字基线对齐</li></ul><h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><p>&emsp;&emsp;<code>align-content</code> 属性定义了在交叉轴方向的对齐方式及额外空间分配，类似于主轴上 <code>justify-content</code> 的作用。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>    <span class="token property">align-content</span><span class="token punctuation">:</span> stretch | flex-start | flex-end | center | space-between | space-around <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><code>stretch</code>  (缺省)：拉伸显示</li><li><code>flex-start</code> ：从启点线开始顺序排列</li><li><code>flex-end</code> ：相对终点线顺序排列</li><li><code>center</code> ：居中排列</li><li><code>space-between</code> ：项目均匀分布，第一项在启点线，最后一项在终点线</li><li><code>space-around</code> ：项目均匀分布，每一个项目两侧有相同的留白空间，相邻项目之间的距离是两个项目之间留白的和</li></ul><h2 id="Flex项目属性"><a href="#Flex项目属性" class="headerlink" title="Flex项目属性"></a>Flex项目属性</h2><h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><p>&emsp;&emsp;缺省情况下，Flex项目是按照在代码中出现的先后顺序排列的。然而 <code>order</code> 属性可以控制项目在容器中的先后顺序。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">order</span><span class="token punctuation">:</span> &lt;integer><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 缺省 0 */</span><span class="token punctuation">}</span></code></pre><p>&emsp;&emsp;按 <code>order</code> 值从小到大顺序排列，可以为负值，缺省为0。</p><h3 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h3><p>&emsp;&emsp;<code>flex-grow</code> 属性定义项目的放大比例，<code>flex-grow</code> 值是一个单位的正整数，表示放大的比例。默认为0，即如果存在额外空间，也不放大，负值无效。<br>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">flex-grow</span><span class="token punctuation">:</span> &lt;number><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 缺省 0 */</span><span class="token punctuation">}</span></code></pre><h3 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h3><p>&emsp;&emsp;<code>flex-shrink</code> 属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。0表示不缩小，负值无效。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">flex-shrink</span><span class="token punctuation">:</span> &lt;number><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 缺省 1 */</span><span class="token punctuation">}</span></code></pre><h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p>&emsp;&emsp;<code>flex-basis</code> 属性定义项目在分配额外空间之前的缺省尺寸。属性值可以是长度（20%，10rem等）或者关键字auto。它的默认值为 <code>auto</code> ，即项目的本来大小。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">flex-basis</span><span class="token punctuation">:</span> &lt;length> | auto<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 缺省 auto */</span><span class="token punctuation">}</span></code></pre><h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p>&emsp;&emsp;<code>flex</code> 属性是 <code>flex-grow</code> , <code>flex-shrink</code> 和 <code>flex-basis</code> 的简写，默认值为0 1 auto。后两个是可选属性。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">flex</span><span class="token punctuation">:</span> none | [ &lt;<span class="token string">'flex-grow'</span>> &lt;<span class="token string">'flex-shrink'</span>>? || &lt;<span class="token string">'flex-basis'</span>> ]<span class="token punctuation">}</span></code></pre><p>&emsp;&emsp;一般推荐使用这种简写的方式，而不是分别定义每一个属性。</p><h3 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a>align-self</h3><p>&emsp;&emsp;<code>align-self</code> 属性定义项目的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。<br>基本语法：</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> auto | flex-start | flex-end | center | baseline | stretch<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>&emsp;&emsp;除了 <code>auto</code> 值以外，<code>align-self</code> 属性与容器的 <code>align-items</code> 属性基本一致。</p><h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><table><thead><tr><th align="center">Chrome</th><th align="center">Safari</th><th align="center">Firefox</th><th align="center">Opera</th><th align="center">IE</th><th align="center">Android</th><th align="center">iOS</th></tr></thead><tbody><tr><td align="center">21+</td><td align="center">6.1+</td><td align="center">22+</td><td align="center">12.1+</td><td align="center">11+</td><td align="center">4.4+</td><td align="center">7.1+</td></tr></tbody></table><p>&emsp;&emsp;Flexbox需要一些特定的前缀以支持大多数的浏览器。甚至还存在完全不同的属性名称或属性值。这就需要Autoprefixer或类似的CSS后处理器的辅助，具体内容请参考相关文档。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
